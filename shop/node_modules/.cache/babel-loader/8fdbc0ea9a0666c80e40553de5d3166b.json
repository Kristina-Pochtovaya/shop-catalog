{"ast":null,"code":"import axios from 'axios';\nimport serverUrl from '../../../../common/constants/urls';\nconst productsEdit = '/products-edit';\n\nasync function postProducts(id, image, category, categoriesArray, description, price, inStock) {\n  const errorImage = document.getElementById('errorImageString');\n  const newCategory = category === 'Электротовары и свет' ? categoriesArray[0].category : categoriesArray[0].category;\n  const categoryId = categoriesArray.filter(categoryItem => categoryItem.category === newCategory).map(categoryItem => categoryItem.id);\n  const payload = {\n    data: {\n      id,\n      categoryId,\n      newCategory,\n      description,\n      image,\n      price,\n      inStock\n    }\n  };\n\n  try {\n    const response = await axios.post(`${serverUrl}${productsEdit}`, {\n      payload,\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    const result = response.data;\n    errorImage.setAttribute('class', 'errorImageString -disabled');\n    return result;\n  } catch (error) {\n    errorImage.setAttribute('class', 'errorImageString');\n    return null;\n  }\n}\n\nexport default postProducts;","map":{"version":3,"sources":["/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/src/pages/editProducts/api/post/postProducts.jsx"],"names":["axios","serverUrl","productsEdit","postProducts","id","image","category","categoriesArray","description","price","inStock","errorImage","document","getElementById","newCategory","categoryId","filter","categoryItem","map","payload","data","response","post","headers","result","setAttribute","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,mCAAtB;AAEA,MAAMC,YAAY,GAAG,gBAArB;;AAEA,eAAeC,YAAf,CAA4BC,EAA5B,EAAgCC,KAAhC,EAAuCC,QAAvC,EAAiDC,eAAjD,EAAkEC,WAAlE,EAA+EC,KAA/E,EAAsFC,OAAtF,EAA+F;AAC7F,QAAMC,UAAU,GAAGC,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,CAAnB;AAEA,QAAMC,WAAW,GAAGR,QAAQ,KAAK,sBAAb,GAAsCC,eAAe,CAAC,CAAD,CAAf,CAAmBD,QAAzD,GAAoEC,eAAe,CAAC,CAAD,CAAf,CAAmBD,QAA3G;AAEA,QAAMS,UAAU,GAAGR,eAAe,CAACS,MAAhB,CAAwBC,YAAD,IAAkBA,YAAY,CAACX,QAAb,KAA0BQ,WAAnE,EAChBI,GADgB,CACXD,YAAD,IAAkBA,YAAY,CAACb,EADnB,CAAnB;AAGA,QAAMe,OAAO,GAAG;AACdC,IAAAA,IAAI,EAAE;AACJhB,MAAAA,EADI;AAEJW,MAAAA,UAFI;AAGJD,MAAAA,WAHI;AAIJN,MAAAA,WAJI;AAKJH,MAAAA,KALI;AAMJI,MAAAA,KANI;AAOJC,MAAAA;AAPI;AADQ,GAAhB;;AAWA,MAAI;AACF,UAAMW,QAAQ,GAAG,MAAMrB,KAAK,CAACsB,IAAN,CAAY,GAAErB,SAAU,GAAEC,YAAa,EAAvC,EAA0C;AAC/DiB,MAAAA,OAD+D;AAE/DI,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAFsD,KAA1C,CAAvB;AAMA,UAAMC,MAAM,GAAGH,QAAQ,CAACD,IAAxB;AACAT,IAAAA,UAAU,CAACc,YAAX,CAAwB,OAAxB,EAAiC,4BAAjC;AACA,WAAOD,MAAP;AACD,GAVD,CAUE,OAAOE,KAAP,EAAc;AACdf,IAAAA,UAAU,CAACc,YAAX,CAAwB,OAAxB,EAAiC,kBAAjC;AACA,WAAO,IAAP;AACD;AACF;;AAED,eAAetB,YAAf","sourcesContent":["import axios from 'axios';\nimport serverUrl from '../../../../common/constants/urls';\n\nconst productsEdit = '/products-edit';\n\nasync function postProducts(id, image, category, categoriesArray, description, price, inStock) {\n  const errorImage = document.getElementById('errorImageString');\n\n  const newCategory = category === 'Электротовары и свет' ? categoriesArray[0].category : categoriesArray[0].category ;\n\n  const categoryId = categoriesArray.filter((categoryItem) => categoryItem.category === newCategory)\n    .map((categoryItem) => categoryItem.id);\n\n  const payload = {\n    data: {\n      id,\n      categoryId,\n      newCategory,\n      description,\n      image,\n      price,\n      inStock,\n    },\n  };\n  try {\n    const response = await axios.post(`${serverUrl}${productsEdit}`, {\n      payload,\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n    const result = response.data;\n    errorImage.setAttribute('class', 'errorImageString -disabled');\n    return result;\n  } catch (error) {\n    errorImage.setAttribute('class', 'errorImageString');\n    return null;\n  }\n}\n\nexport default postProducts;\n"]},"metadata":{},"sourceType":"module"}