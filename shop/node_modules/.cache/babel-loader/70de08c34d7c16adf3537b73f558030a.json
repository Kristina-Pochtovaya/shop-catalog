{"ast":null,"code":"import _regeneratorRuntime from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import ConnectedHeader from'../../main/header/container/HeaderContainer';import Footer from'../../main/footer/components/FooterComponent';import InputWitchCkeckingNotNull from'../../../common/components/input/components/InputWitchCkeckingNotNullComponent';import removeErrorNotNull from'../../../common/utils/removeErrorNotNull';import removeErrorLength from'../../../common/utils/removeErrorLength';import processResultChangePassword from'../utils/processResultChangePassword';import setErrorNotNullGroupsChangePassword from'../utils/setErrorNotNullGroupsChangePassword';import ButtonForPassword from'../../../common/components/button/components/ButtonForPasswordComponent';import setClassErrorById from'../../../common/utils/setClassErrorById';import postChangePasswordRequest from'../api/post/postChangePasswordRequest';import inputChangePasswordArray from'../constants/inputChangePasswordArray';import setInitialValue from'../utils/setInitialValue';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ChangePassword=/*#__PURE__*/function(_React$Component){_inherits(ChangePassword,_React$Component);var _super=_createSuper(ChangePassword);function ChangePassword(props){var _this;_classCallCheck(this,ChangePassword);_this=_super.call(this,props);_this.updateData=function(value,name){if(name==='clientEmail'){_this.setState({clientEmail:value});}if(name==='passwordNew'){_this.setState({passwordNew:value});}if(name==='passwordNewRepeat'){_this.setState({passwordNewRepeat:value});}};_this.updateEmail=function(value){_this.setState({clientEmail:value});};var pages=_this.props.pages;_this.state={clientEmail:pages.loginPersonalAccountReducer.clientEmail,passwordNew:'',passwordNewRepeat:'',errorLength:'errorlengthString'};return _this;}_createClass(ChangePassword,[{key:\"componentDidMount\",value:function componentDidMount(){var pages=this.props.pages;this.setState({clientEmail:pages.loginPersonalAccountReducer.clientEmail});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps,previousState){var pages=this.props.pages;if(previousProps.pages.loginPersonalAccountReducer.clientEmail!==pages.loginPersonalAccountReducer.clientEmail){this.updateEmail(pages.loginPersonalAccountReducer.clientEmail);}}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,clientEmail=_this$state.clientEmail,passwordNew=_this$state.passwordNew,passwordNewRepeat=_this$state.passwordNewRepeat,errorLength=_this$state.errorLength;var history=this.props.history;function handleButtonClick(){return _handleButtonClick.apply(this,arguments);}function _handleButtonClick(){_handleButtonClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:clientEmail&&passwordNew&&passwordNewRepeat&&passwordNew===passwordNewRepeat&&passwordNew.length>=9?processResultChangePassword(clientEmail,passwordNew,passwordNewRepeat,history,setClassErrorById,postChangePasswordRequest):setErrorNotNullGroupsChangePassword(clientEmail,passwordNew,passwordNewRepeat,errorLength);case 1:case\"end\":return _context.stop();}}},_callee);}));return _handleButtonClick.apply(this,arguments);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ConnectedHeader,{linkItem:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"buttonBack\",children:\"\\u0413\\u043B\\u0430\\u0432\\u043D\\u0430\\u044F\"}),link:\"/main-page\",disabled:false}),/*#__PURE__*/_jsxs(\"div\",{className:\"changePassword-wrap\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\" \\u0421\\u043C\\u0435\\u043D\\u0430 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044F \"}),/*#__PURE__*/_jsxs(\"form\",{className:\"changePassword\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"notRealUser\",className:\"userNotFoundBlock -disabled\",children:\"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F \\u0441 \\u0442\\u0430\\u043A\\u0438\\u043C email \\u043D\\u0435 \\u0441\\u0443\\u0449\\u0435\\u0441\\u0442\\u0432\\u0443\\u0435\\u0442\"}),inputChangePasswordArray.map(function(input){return/*#__PURE__*/_jsxs(\"div\",{className:input.name,children:[/*#__PURE__*/_jsx(\"p\",{className:input.classNameOfString,children:input.nameOfString},input.classNameOfString),/*#__PURE__*/_jsx(InputWitchCkeckingNotNull,{initialValue:setInitialValue(input.name,clientEmail,passwordNew,passwordNewRepeat),type:input.type,name:input.name,classInput:input.className,classSymbol:input.classNameSymbol,updateData:_this2.updateData,removeErrorNotNull:input.removeErrorNotNull?removeErrorNotNull:'',removeErrorLength:input.removeErrorLength?removeErrorLength:'',classerrorLength:input.classerrorLength?errorLength:'',classNameOfString:input.classNameOfString,nameOfString:input.nameOfString},input.className),input.name==='passwordNew'&&/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(errorLength,\" -disabled\"),children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0434\\u043E\\u043B\\u0436\\u0435\\u043D \\u0431\\u044B\\u0442\\u044C \\u043D\\u0435 \\u043C\\u0435\\u043D\\u0435\\u0435 9 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432\"})]},input.name);}),/*#__PURE__*/_jsx(ButtonForPassword,{className:\"changePasswordButton\",handleButtonClick:handleButtonClick,children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"})]})]}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return ChangePassword;}(React.Component);export default ChangePassword;","map":{"version":3,"sources":["/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/src/pages/changePassword/components/ChangePasswordComponent.jsx"],"names":["React","ConnectedHeader","Footer","InputWitchCkeckingNotNull","removeErrorNotNull","removeErrorLength","processResultChangePassword","setErrorNotNullGroupsChangePassword","ButtonForPassword","setClassErrorById","postChangePasswordRequest","inputChangePasswordArray","setInitialValue","ChangePassword","props","updateData","value","name","setState","clientEmail","passwordNew","passwordNewRepeat","updateEmail","pages","state","loginPersonalAccountReducer","errorLength","previousProps","previousState","history","handleButtonClick","length","map","input","classNameOfString","nameOfString","type","className","classNameSymbol","classerrorLength","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ConnectedHeader from '../../main/header/container/HeaderContainer';\nimport Footer from '../../main/footer/components/FooterComponent';\nimport InputWitchCkeckingNotNull from '../../../common/components/input/components/InputWitchCkeckingNotNullComponent';\nimport removeErrorNotNull from '../../../common/utils/removeErrorNotNull';\nimport removeErrorLength from '../../../common/utils/removeErrorLength';\nimport processResultChangePassword from '../utils/processResultChangePassword';\nimport setErrorNotNullGroupsChangePassword from '../utils/setErrorNotNullGroupsChangePassword';\nimport ButtonForPassword from '../../../common/components/button/components/ButtonForPasswordComponent';\nimport setClassErrorById from '../../../common/utils/setClassErrorById';\nimport postChangePasswordRequest from '../api/post/postChangePasswordRequest';\nimport inputChangePasswordArray from '../constants/inputChangePasswordArray';\nimport setInitialValue from '../utils/setInitialValue';\n\nclass ChangePassword extends React.Component {\n  constructor(props) {\n    super(props);\n    const { pages } = this.props;\n    this.state = {\n      clientEmail: pages.loginPersonalAccountReducer.clientEmail,\n      passwordNew: '',\n      passwordNewRepeat: '',\n      errorLength: 'errorlengthString',\n    };\n  }\n\n  componentDidMount() {\n    const { pages } = this.props;\n    this.setState({\n      clientEmail: pages.loginPersonalAccountReducer.clientEmail,\n    });\n  }\n\n  componentDidUpdate(previousProps, previousState) {\n    const { pages } = this.props;\n    if (previousProps.pages.loginPersonalAccountReducer.clientEmail\n      !== pages.loginPersonalAccountReducer.clientEmail) {\n      this.updateEmail(pages.loginPersonalAccountReducer.clientEmail);\n    }\n  }\n\n  updateData = (value, name) => {\n    if (name === 'clientEmail') { this.setState({ clientEmail: value }); }\n    if (name === 'passwordNew') { this.setState({ passwordNew: value }); }\n    if (name === 'passwordNewRepeat') { this.setState({ passwordNewRepeat: value }); }\n  }\n\n  updateEmail = (value) => { this.setState({ clientEmail: value }); }\n\n  render() {\n    const {\n      clientEmail, passwordNew, passwordNewRepeat, errorLength,\n    } = this.state;\n    const { history } = this.props;\n\n    async function handleButtonClick() {\n      (clientEmail && passwordNew && passwordNewRepeat)\n            && (passwordNew === passwordNewRepeat) && (passwordNew.length >= 9)\n        ? processResultChangePassword(clientEmail, passwordNew, passwordNewRepeat, history,\n          setClassErrorById, postChangePasswordRequest)\n        : setErrorNotNullGroupsChangePassword(clientEmail, passwordNew, passwordNewRepeat,\n          errorLength);\n    }\n    return (\n      <>\n        <ConnectedHeader linkItem={<button type=\"button\" className=\"buttonBack\">Главная</button>} link=\"/main-page\" disabled={false} />\n        <div className=\"changePassword-wrap\">\n          <h2> Смена пароля </h2>\n          <form className=\"changePassword\">\n            <p id=\"notRealUser\" className=\"userNotFoundBlock -disabled\">Пользователя с таким email не существует</p>\n            {inputChangePasswordArray.map((input) => (\n              <div className={input.name} key={input.name}>\n                <p className={input.classNameOfString} key={input.classNameOfString}>\n                  {input.nameOfString}\n                </p>\n                <InputWitchCkeckingNotNull\n                  key={input.className}\n                  initialValue={setInitialValue(input.name, clientEmail, passwordNew,\n                    passwordNewRepeat)}\n                  type={input.type}\n                  name={input.name}\n                  classInput={input.className}\n                  classSymbol={input.classNameSymbol}\n                  updateData={this.updateData}\n                  removeErrorNotNull={input.removeErrorNotNull ? removeErrorNotNull : ''}\n                  removeErrorLength={input.removeErrorLength ? removeErrorLength : ''}\n                  classerrorLength={input.classerrorLength ? errorLength : ''}\n                  classNameOfString={input.classNameOfString}\n                  nameOfString={input.nameOfString}\n                />\n                {input.name === 'passwordNew' && <p className={`${errorLength} -disabled`}>Пароль должен быть не менее 9 символов</p>}\n              </div>\n            ))}\n            <ButtonForPassword\n              className=\"changePasswordButton\"\n              handleButtonClick={handleButtonClick}\n            >\n              Изменить пароль\n            </ButtonForPassword>\n          </form>\n        </div>\n        <Footer />\n      </>\n    );\n  }\n}\n\nexport default ChangePassword;\n"]},"metadata":{},"sourceType":"module"}