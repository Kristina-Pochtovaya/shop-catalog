{"ast":null,"code":"var _jsxFileName = \"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/src/AppShopCatalogComponent.jsx\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useEffect } from 'react';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Route, Redirect } from 'react-router-dom';\nimport ConnectedHeader from './pages/main/header/components/HeaderComponent';\nimport Catalog from './pages/main/catalog/components/CatalogComponent';\nimport Footer from './pages/main/footer/components/FooterComponent';\nimport About from './pages/about/components/AboutComponent';\nimport aboutUS from './assets/header/about-us.png';\nimport ConnectedBasket from './pages/basket/containers/ConnectedBasketComponent';\nimport createStore from './redux/store';\nimport getCatalogCategories from './pages/main/catalog/api/get/getCatalogCategories';\nimport PopUp from './common/popup/components/PopUpComponent';\nimport PopupBasket from './pages/catalogItems/components/PopupBasketComponent';\nimport ConnectedChangePassword from './pages/changePassword/components/ChangePasswordComponent';\nimport PersonalAccount from './pages/personalAccount/components/PersonalAccountComponent';\nimport ConnectedRegistration from './pages/registration/containers/ConnectedRegistrationComponent';\nimport getProductsRequest from './common/api/get/getProductsRequest';\nimport { ConnectedCatalogItem } from './pages/catalogItems/components/CatalogItemComponent';\nimport setImg from './common/untils/setImg';\nimport PopUpSomethingWentWrong from './common/popup/components/PopUpSomethingWentWrongComponent';\nimport EditCategoryPage from './pages/editCategory/components/EditCategoryPageComponent';\nimport AddCategoryPage from './pages/editCategory/components/AddCategoryPageComponent';\nimport AddProductPageComponent from './pages/editProducts/components/AddProductPageComponent';\nimport EditProductsPage from './pages/editProducts/components/EditProductsPageComponent';\nimport ImageContainer from './ImageContainterComponent';\nimport ImageForm from './ImageFormComponent';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst store = createStore();\nexport function AppShopCatalog() {\n  _s();\n\n  const [categoriesArray, setCategories] = useState(null);\n  const [productsArray, setProducts] = useState(null);\n  const [isLoadingCategory, setLoadingCategory] = useState(false);\n  const [isLoadingProducts, setLoadingProducts] = useState(false);\n  const [errorCategory, setErrorCategory] = useState(null);\n  const [errorProducts, setErrorProducts] = useState(false);\n  const [popupBasketActive, setPopupBasketctive] = useState(false);\n  const [popupSmthWentWrongActive, setpopupSmthWentWrongActive] = useState(true);\n  const [isProductsUpdated, setIsProductsUpdated] = useState(false);\n  const [newImage, setNewImage] = useState([]);\n  useEffect(() => {\n    getProductsRequest(setProducts, setLoadingProducts, setErrorProducts);\n    getCatalogCategories(setCategories, setLoadingCategory, setErrorCategory);\n  }, [isProductsUpdated]);\n\n  const handleNewImage = () => {\n    setNewImage([...newImage, 'New Image!']);\n  };\n\n  if (!isLoadingProducts || !isLoadingCategory) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"-isLoading\",\n      children: \" \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (errorProducts || errorCategory) {\n    return /*#__PURE__*/_jsxDEV(PopUp, {\n      active: popupSmthWentWrongActive,\n      setActive: setpopupSmthWentWrongActive,\n      children: /*#__PURE__*/_jsxDEV(PopUpSomethingWentWrong, {\n        text: \"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0449\\u0435 \\u0440\\u0430\\u0437\",\n        setpopupSmthWentWrongActive: setpopupSmthWentWrongActive\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(Provider, {\n      store: store,\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        children: /*#__PURE__*/_jsxDEV(Redirect, {\n          to: \"/\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/main-page\",\n        children: [/*#__PURE__*/_jsxDEV(ConnectedHeader, {\n          linkItem: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: aboutUS,\n            alt: \"\\u041E \\u043D\\u0430\\u0441\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 38\n          }, this),\n          link: \"/about\",\n          disabled: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Catalog, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/about\",\n        children: /*#__PURE__*/_jsxDEV(About, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/basket\",\n        children: /*#__PURE__*/_jsxDEV(ConnectedBasket, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), categoriesArray.categories.map(category => /*#__PURE__*/_jsxDEV(Route, {\n        path: category.link,\n        children: [/*#__PURE__*/_jsxDEV(ConnectedHeader, {\n          linkItem: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"buttonBack\",\n            children: \"\\u041D\\u0430\\u0437\\u0430\\u0434\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this),\n          link: \"/main-page\",\n          disabled: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container-wrap\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"items\",\n            children: productsArray.products.map(product => product.categoryId === category.id && /*#__PURE__*/_jsxDEV(ConnectedCatalogItem, {\n              id: product.id,\n              img: /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"imgItem\",\n                src: product.image ? product.image : setImg(product.imgAlt),\n                alt: product.imgAlt,\n                title: product.imgTitle\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 23\n              }, this),\n              className: \"imgItem\",\n              description: product.description,\n              inStock: product.inStock,\n              price: product.price,\n              setPopupBasketctive: setPopupBasketctive,\n              counter: product.counter,\n              category: product.category\n            }, product.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(PopUp, {\n          active: popupBasketActive,\n          setActive: setPopupBasketctive,\n          children: /*#__PURE__*/_jsxDEV(PopupBasket, {\n            closePopup: setPopupBasketctive\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this)]\n      }, category.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/change-password\",\n        children: /*#__PURE__*/_jsxDEV(ConnectedChangePassword, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/personal\",\n        children: /*#__PURE__*/_jsxDEV(PersonalAccount, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/registration\",\n        children: /*#__PURE__*/_jsxDEV(ConnectedRegistration, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/edit-category\",\n        children: /*#__PURE__*/_jsxDEV(EditCategoryPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/add-category\",\n        children: /*#__PURE__*/_jsxDEV(AddCategoryPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/add-product\",\n        children: /*#__PURE__*/_jsxDEV(AddProductPageComponent, {\n          setIsProductsUpdated: setIsProductsUpdated,\n          isProductsUpdated: isProductsUpdated\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/edit-products\",\n        children: /*#__PURE__*/_jsxDEV(EditProductsPage, {\n          setIsProductsUpdated: setIsProductsUpdated,\n          isProductsUpdated: isProductsUpdated\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/test\",\n        children: [/*#__PURE__*/_jsxDEV(ImageContainer, {\n          newImage: newImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ImageForm, {\n          handleNewImage: handleNewImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AppShopCatalog, \"DZGOS3jjxdxVD3UKKI15buO4dm0=\");\n\n_c = AppShopCatalog;\nexport default AppShopCatalog;\n\nvar _c;\n\n$RefreshReg$(_c, \"AppShopCatalog\");","map":{"version":3,"sources":["/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/src/AppShopCatalogComponent.jsx"],"names":["React","useState","useEffect","Provider","BrowserRouter","Route","Redirect","ConnectedHeader","Catalog","Footer","About","aboutUS","ConnectedBasket","createStore","getCatalogCategories","PopUp","PopupBasket","ConnectedChangePassword","PersonalAccount","ConnectedRegistration","getProductsRequest","ConnectedCatalogItem","setImg","PopUpSomethingWentWrong","EditCategoryPage","AddCategoryPage","AddProductPageComponent","EditProductsPage","ImageContainer","ImageForm","store","AppShopCatalog","categoriesArray","setCategories","productsArray","setProducts","isLoadingCategory","setLoadingCategory","isLoadingProducts","setLoadingProducts","errorCategory","setErrorCategory","errorProducts","setErrorProducts","popupBasketActive","setPopupBasketctive","popupSmthWentWrongActive","setpopupSmthWentWrongActive","isProductsUpdated","setIsProductsUpdated","newImage","setNewImage","handleNewImage","categories","map","category","link","products","product","categoryId","id","image","imgAlt","imgTitle","description","inStock","price","counter"],"mappings":"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","sourcesContent":["import { React, useState, useEffect } from 'react';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Route, Redirect } from 'react-router-dom';\nimport ConnectedHeader from './pages/main/header/components/HeaderComponent';\nimport Catalog from './pages/main/catalog/components/CatalogComponent';\nimport Footer from './pages/main/footer/components/FooterComponent';\nimport About from './pages/about/components/AboutComponent';\nimport aboutUS from './assets/header/about-us.png';\nimport ConnectedBasket from './pages/basket/containers/ConnectedBasketComponent';\nimport createStore from './redux/store';\nimport getCatalogCategories from './pages/main/catalog/api/get/getCatalogCategories';\nimport PopUp from './common/popup/components/PopUpComponent';\nimport PopupBasket from './pages/catalogItems/components/PopupBasketComponent';\nimport ConnectedChangePassword from './pages/changePassword/components/ChangePasswordComponent';\nimport PersonalAccount from './pages/personalAccount/components/PersonalAccountComponent';\nimport ConnectedRegistration from './pages/registration/containers/ConnectedRegistrationComponent';\nimport getProductsRequest from './common/api/get/getProductsRequest';\nimport { ConnectedCatalogItem } from './pages/catalogItems/components/CatalogItemComponent';\nimport setImg from './common/untils/setImg';\nimport PopUpSomethingWentWrong from './common/popup/components/PopUpSomethingWentWrongComponent';\nimport EditCategoryPage from './pages/editCategory/components/EditCategoryPageComponent';\nimport AddCategoryPage from './pages/editCategory/components/AddCategoryPageComponent';\nimport AddProductPageComponent from './pages/editProducts/components/AddProductPageComponent';\nimport EditProductsPage from './pages/editProducts/components/EditProductsPageComponent';\nimport ImageContainer from './ImageContainterComponent';\nimport ImageForm from './ImageFormComponent';\n\nconst store = createStore();\n\nexport function AppShopCatalog() {\n  const [categoriesArray, setCategories] = useState(null);\n  const [productsArray, setProducts] = useState(null);\n  const [isLoadingCategory, setLoadingCategory] = useState(false);\n  const [isLoadingProducts, setLoadingProducts] = useState(false);\n  const [errorCategory, setErrorCategory] = useState(null);\n  const [errorProducts, setErrorProducts] = useState(false);\n  const [popupBasketActive, setPopupBasketctive] = useState(false);\n  const [popupSmthWentWrongActive, setpopupSmthWentWrongActive] = useState(true);\n  const [isProductsUpdated, setIsProductsUpdated] = useState(false);\n  const [newImage, setNewImage] = useState([]);\n\n  useEffect(() => {\n    getProductsRequest(setProducts, setLoadingProducts, setErrorProducts);\n    getCatalogCategories(\n      setCategories, setLoadingCategory, setErrorCategory,\n    );\n  }, [isProductsUpdated]);\n\n  const handleNewImage = () => {\n    setNewImage([...newImage, 'New Image!']);\n  };\n\n  if (!isLoadingProducts || !isLoadingCategory) {\n    return <div className=\"-isLoading\"> </div>;\n  }\n\n  if (errorProducts || errorCategory) {\n    return (\n      <PopUp\n        active={popupSmthWentWrongActive}\n        setActive={setpopupSmthWentWrongActive}\n      >\n        <PopUpSomethingWentWrong\n          text=\"Попробуйте еще раз\"\n          setpopupSmthWentWrongActive={setpopupSmthWentWrongActive}\n        />\n      </PopUp>\n    );\n  }\n\n  return (\n    <BrowserRouter>\n      <Provider store={store}>\n        <Route path=\"/\">\n          <Redirect to=\"/\" />\n        </Route>\n        <Route path=\"/main-page\">\n          <ConnectedHeader linkItem={<img src={aboutUS} alt=\"О нас\" />} link=\"/about\" disabled={false} />\n          <Catalog />\n          <Footer />\n        </Route>\n        <Route path=\"/about\">\n          <About />\n        </Route>\n        <Route path=\"/basket\">\n          <ConnectedBasket />\n        </Route>\n        {categoriesArray.categories.map((category) => (\n          <Route path={category.link} key={category.id}>\n            <ConnectedHeader\n              linkItem={<button type=\"button\" className=\"buttonBack\">Назад</button>}\n              link=\"/main-page\"\n              disabled={false}\n            />\n            <div className=\"container-wrap\">\n              <div className=\"items\">\n                {productsArray.products.map((product) => (product.categoryId === category.id\n                  && (\n                  <ConnectedCatalogItem\n                    key={product.id}\n                    id={product.id}\n                    img={(\n                      <img\n                        className=\"imgItem\"\n                        src={product.image ? product.image : setImg(product.imgAlt)}\n                        alt={product.imgAlt}\n                        title={product.imgTitle}\n                      />\n                        )}\n                    className=\"imgItem\"\n                    description={product.description}\n                    inStock={product.inStock}\n                    price={product.price}\n                    setPopupBasketctive={setPopupBasketctive}\n                    counter={product.counter}\n                    category={product.category}\n                  />\n                  )\n                ))}\n              </div>\n            </div>\n            <PopUp active={popupBasketActive} setActive={setPopupBasketctive}>\n              <PopupBasket closePopup={setPopupBasketctive} />\n            </PopUp>\n            <Footer />\n          </Route>\n        ))}\n        <Route path=\"/change-password\">\n          <ConnectedChangePassword />\n        </Route>\n        <Route path=\"/personal\">\n          <PersonalAccount />\n        </Route>\n        <Route path=\"/registration\">\n          <ConnectedRegistration />\n        </Route>\n        <Route path=\"/edit-category\">\n          <EditCategoryPage />\n        </Route>\n        <Route path=\"/add-category\">\n          <AddCategoryPage />\n        </Route>\n        <Route path=\"/add-product\">\n          <AddProductPageComponent\n            setIsProductsUpdated={setIsProductsUpdated}\n            isProductsUpdated={isProductsUpdated}\n          />\n        </Route>\n        <Route path=\"/edit-products\">\n          <EditProductsPage\n            setIsProductsUpdated={setIsProductsUpdated}\n            isProductsUpdated={isProductsUpdated}\n          />\n        </Route>\n        <Route path=\"/test\">\n          <ImageContainer newImage={newImage} />\n          <ImageForm handleNewImage={handleNewImage} />\n        </Route>\n      </Provider>\n    </BrowserRouter>\n  );\n}\n\nexport default AppShopCatalog;\n"]},"metadata":{},"sourceType":"module"}