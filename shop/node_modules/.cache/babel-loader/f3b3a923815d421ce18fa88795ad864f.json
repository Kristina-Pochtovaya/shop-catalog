{"ast":null,"code":"import _regeneratorRuntime from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import getProducts from'../api/get/getProducts';import getCategories from'../../editCategory/api/get/getCategories';import PopUpErrorLoading from'../../../common/popup/components/PopUpErrorLoadingComponent';import IsEditActiveColumnsComponent from'./IsEditActiveColumnsComponent';import IsEditNotActiveColumnsComponent from'./IsEditNotActiveColumnsComponent';import processHandleButtonOnEdit from'../utils/processHandleButtonOnEdit';import ButtonEditProducts from'../../../common/button/components/ButtonEditProductsComponent';import ButtonDeleteCategoryProducts from'../../../common/button/components/ButtonDeleteCategoryProductsComponent';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var EditProductsPageColumns=/*#__PURE__*/function(_React$Component){_inherits(EditProductsPageColumns,_React$Component);var _super=_createSuper(EditProductsPageColumns);function EditProductsPageColumns(props){var _this;_classCallCheck(this,EditProductsPageColumns);_this=_super.call(this,props);_this._isMounted=false;_this.handleButtonOnClick=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(product){var category,_this$props,isProductsUpdated,setIsProductsUpdated,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:category=_args.length>1&&_args[1]!==undefined?_args[1]:false;_this$props=_this.props,isProductsUpdated=_this$props.isProductsUpdated,setIsProductsUpdated=_this$props.setIsProductsUpdated;if(!category){processHandleButtonOnEdit(_this.state,product,_this.updateData,isProductsUpdated,setIsProductsUpdated);}else{_this.updateData(false,_this.state,product,category);}case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.updateData=function(save,state,product,category){_this.setState({isUpdated:save?!state.isUpdated:state.isUpdated,isEditActive:!save,isEditActiveId:product.id,IsSaveButtonVisible:!!save,IsEditButtonVisible:!save,productImage:product.image,productCategory:save?state.productCategory:category.category,productName:save?state.productName:product.description,productPrice:save?state.productPrice:product.price,productInStock:save?state.productInStock:product.inStock});};_this.setError=function(errorMessage){return _this.setState({ErrorMessageProducts:errorMessage});};_this.setpopupSmthWentWrongActive=function(value){return _this.setState({popupSmthWentWrongActive:value});};_this.setEditActive=function(value){return _this.setState({isEditActive:value});};_this.updateImage=function(value){return _this.setState({productImage:value});};_this.updateProductCategory=function(value,array){_this.setState({productCategory:value,categoriesArray:array});};_this.updateProductName=function(value){return _this.setState({productName:value});};_this.updateProductPrice=function(value){return _this.setState({productPrice:value});};_this.updateProductInStock=function(value){return _this.setState({productInStock:value});};_this.updateProducts=function(value,valueIsLoading){if(_this._isMounted){_this.setState({productsArray:value,isLoadingProducts:valueIsLoading});}};_this.updateDataCategories=function(value,valueIsLoading){if(_this._isMounted){_this.setState({categoriesArray:value.categories,isLoadingCategories:valueIsLoading});}};_this.updateAfterDelete=function(){var isUpdated=_this.state.isUpdated;_this.setState({isUpdated:!isUpdated});};_this.state={productsArray:[],isEditActive:false,isEditActiveId:'',isUpdated:false,isLoadingProducts:false,isLoadingCategories:false,ErrorMessageProducts:'',popupSmthWentWrongActive:true,IsSaveButtonVisible:false,IsEditButtonVisible:true,productImage:'',productCategory:'',productName:'',productPrice:'',productInStock:1,categoriesArray:[]};return _this;}_createClass(EditProductsPageColumns,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:this._isMounted=true;_context2.next=3;return getProducts(this.updateProducts,this.setError);case 3:_context2.next=5;return getCategories(this.updateDataCategories);case 5:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"componentDidUpdate\",value:function(){var _componentDidUpdate=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(prevProps,prevState){var isUpdated;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:isUpdated=this.state.isUpdated;if(!(prevState.isUpdated!==isUpdated)){_context3.next=6;break;}_context3.next=4;return getProducts(this.updateProducts,this.setError);case 4:_context3.next=6;return getCategories(this.updateDataCategories);case 6:case\"end\":return _context3.stop();}}},_callee3,this);}));function componentDidUpdate(_x2,_x3){return _componentDidUpdate.apply(this,arguments);}return componentDidUpdate;}()},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._isMounted=false;}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,isEditActive=_this$state.isEditActive,isEditActiveId=_this$state.isEditActiveId,ErrorMessageProducts=_this$state.ErrorMessageProducts,popupSmthWentWrongActive=_this$state.popupSmthWentWrongActive,productsArray=_this$state.productsArray,isLoadingProducts=_this$state.isLoadingProducts,IsEditButtonVisible=_this$state.IsEditButtonVisible,isLoadingCategories=_this$state.isLoadingCategories,categoriesArray=_this$state.categoriesArray;var _this$props2=this.props,isProductsUpdated=_this$props2.isProductsUpdated,setIsProductsUpdated=_this$props2.setIsProductsUpdated;if(!isLoadingProducts||!isLoadingCategories){return/*#__PURE__*/_jsx(\"div\",{className:\"-isLoading\",children:\" \"});}if(ErrorMessageProducts){return/*#__PURE__*/_jsx(PopUpErrorLoading,{popupSmthWentWrongActive:popupSmthWentWrongActive,setpopupSmthWentWrongActive:this.setpopupSmthWentWrongActive});}return/*#__PURE__*/_jsx(_Fragment,{children:productsArray.products.map(function(product){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"columns\",children:[isEditActive&&product.id===isEditActiveId?/*#__PURE__*/_jsx(IsEditActiveColumnsComponent,{product:product,categoriesArray:categoriesArray,updateImage:_this2.updateImage,updateProductCategory:_this2.updateProductCategory,updateProductName:_this2.updateProductName,updateProductPrice:_this2.updateProductPrice,updateProductInStock:_this2.updateProductInStock}):/*#__PURE__*/_jsx(IsEditNotActiveColumnsComponent,{product:product,categoriesArray:categoriesArray}),categoriesArray.map(function(category){return product.categoryId===category.id&&/*#__PURE__*/_jsx(ButtonEditProducts,{category:category,product:product,handleButtonOnClick:_this2.handleButtonOnClick,IsEditButtonVisible:IsEditButtonVisible,isEditActive:isEditActive,isEditActiveId:isEditActiveId});}),/*#__PURE__*/_jsx(\"div\",{className:\"columnDelete\",children:/*#__PURE__*/_jsx(ButtonDeleteCategoryProducts,{item:product,category:false,updateAfterDelete:_this2.updateAfterDelete,setIsProductsUpdated:setIsProductsUpdated,isProductsUpdated:isProductsUpdated})})]})},product.id);})});}}]);return EditProductsPageColumns;}(React.Component);export default EditProductsPageColumns;","map":{"version":3,"sources":["/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/src/pages/editProducts/components/EditProductsPageColumnsComponent.jsx"],"names":["React","getProducts","getCategories","PopUpErrorLoading","IsEditActiveColumnsComponent","IsEditNotActiveColumnsComponent","processHandleButtonOnEdit","ButtonEditProducts","ButtonDeleteCategoryProducts","EditProductsPageColumns","props","_isMounted","handleButtonOnClick","product","category","isProductsUpdated","setIsProductsUpdated","state","updateData","save","setState","isUpdated","isEditActive","isEditActiveId","id","IsSaveButtonVisible","IsEditButtonVisible","productImage","image","productCategory","productName","description","productPrice","price","productInStock","inStock","setError","errorMessage","ErrorMessageProducts","setpopupSmthWentWrongActive","value","popupSmthWentWrongActive","setEditActive","updateImage","updateProductCategory","array","categoriesArray","updateProductName","updateProductPrice","updateProductInStock","updateProducts","valueIsLoading","productsArray","isLoadingProducts","updateDataCategories","categories","isLoadingCategories","updateAfterDelete","prevProps","prevState","products","map","categoryId","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport getProducts from '../api/get/getProducts';\nimport getCategories from '../../editCategory/api/get/getCategories';\nimport PopUpErrorLoading from '../../../common/popup/components/PopUpErrorLoadingComponent';\nimport IsEditActiveColumnsComponent from './IsEditActiveColumnsComponent';\nimport IsEditNotActiveColumnsComponent from './IsEditNotActiveColumnsComponent';\nimport processHandleButtonOnEdit from '../utils/processHandleButtonOnEdit';\nimport ButtonEditProducts from '../../../common/button/components/ButtonEditProductsComponent';\nimport ButtonDeleteCategoryProducts from '../../../common/button/components/ButtonDeleteCategoryProductsComponent';\n\nclass EditProductsPageColumns extends React.Component {\n  _isMounted = false;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      productsArray: [],\n      isEditActive: false,\n      isEditActiveId: '',\n      isUpdated: false,\n      isLoadingProducts: false,\n      isLoadingCategories: false,\n      ErrorMessageProducts: '',\n      popupSmthWentWrongActive: true,\n      IsSaveButtonVisible: false,\n      IsEditButtonVisible: true,\n      productImage: '',\n      productCategory: '',\n      productName: '',\n      productPrice: '',\n      productInStock: 1,\n      categoriesArray: [],\n    };\n  }\n\n  async componentDidMount() {\n    this._isMounted = true;\n    await getProducts(this.updateProducts, this.setError);\n    await getCategories(this.updateDataCategories);\n  }\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { isUpdated } = this.state;\n    if (prevState.isUpdated !== isUpdated) {\n      await getProducts(this.updateProducts, this.setError);\n      await getCategories(this.updateDataCategories);\n    }\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n   handleButtonOnClick = async (product, category = false) => {\n     const { isProductsUpdated, setIsProductsUpdated } = this.props;\n     if (!category) {\n       processHandleButtonOnEdit(this.state, product, this.updateData, isProductsUpdated,\n         setIsProductsUpdated);\n     } else {\n       this.updateData(false, this.state, product, category);\n     }\n   }\n\n  updateData = (save, state, product, category) => {\n    this.setState({\n      isUpdated: save ? !state.isUpdated : state.isUpdated,\n      isEditActive: !save,\n      isEditActiveId: product.id,\n      IsSaveButtonVisible: !!save,\n      IsEditButtonVisible: !save,\n      productImage: product.image,\n      productCategory: save ? state.productCategory : category.category,\n      productName: save ? state.productName : product.description,\n      productPrice: save ? state.productPrice : product.price,\n      productInStock: save ? state.productInStock : product.inStock,\n    });\n  }\n\n  setError = (errorMessage) => this.setState({ ErrorMessageProducts: errorMessage });\n\n  setpopupSmthWentWrongActive = (value) => this.setState({ popupSmthWentWrongActive: value });\n\n  setEditActive = (value) => this.setState({ isEditActive: value });\n\n  updateImage = (value) => this.setState({ productImage: value });\n\n  updateProductCategory = (value, array) => {\n    this.setState({ productCategory: value, categoriesArray: array });\n  }\n\n  updateProductName = (value) => this.setState({ productName: value });\n\n  updateProductPrice = (value) => this.setState({ productPrice: value });\n\n  updateProductInStock = (value) => this.setState({ productInStock: value });\n\n  updateProducts = (value, valueIsLoading) => {\n    if (this._isMounted) {\n      this.setState({\n        productsArray: value,\n        isLoadingProducts: valueIsLoading,\n      });\n    }\n  }\n\n  updateDataCategories = (value, valueIsLoading) => {\n    if (this._isMounted) {\n      this.setState({\n        categoriesArray: value.categories,\n        isLoadingCategories: valueIsLoading,\n      });\n    }\n  }\n\n  updateAfterDelete = () => {\n    const { isUpdated } = this.state;\n    this.setState({ isUpdated: !isUpdated });\n  }\n\n  render() {\n    const {\n      isEditActive, isEditActiveId, ErrorMessageProducts, popupSmthWentWrongActive, productsArray,\n      isLoadingProducts, IsEditButtonVisible, isLoadingCategories, categoriesArray,\n    } = this.state;\n    const { isProductsUpdated, setIsProductsUpdated } = this.props;\n    if (!isLoadingProducts || !isLoadingCategories) {\n      return <div className=\"-isLoading\"> </div>;\n    }\n    if (ErrorMessageProducts) {\n      return (\n        <PopUpErrorLoading\n          popupSmthWentWrongActive={popupSmthWentWrongActive}\n          setpopupSmthWentWrongActive={this.setpopupSmthWentWrongActive}\n        />\n      );\n    }\n    return (\n      <>\n        {productsArray.products.map((product) => (\n          <li key={product.id}>\n            <div className=\"columns\">\n              {isEditActive && product.id === isEditActiveId\n                ? (\n                  <IsEditActiveColumnsComponent\n                    product={product}\n                    categoriesArray={categoriesArray}\n                    updateImage={this.updateImage}\n                    updateProductCategory={this.updateProductCategory}\n                    updateProductName={this.updateProductName}\n                    updateProductPrice={this.updateProductPrice}\n                    updateProductInStock={this.updateProductInStock}\n                  />\n                ) : (\n                  <IsEditNotActiveColumnsComponent\n                    product={product}\n                    categoriesArray={categoriesArray}\n                  />\n                )}\n              { categoriesArray.map((category) => (\n                product.categoryId === category.id && (\n                <ButtonEditProducts\n                  category={category}\n                  product={product}\n                  handleButtonOnClick={this.handleButtonOnClick}\n                  IsEditButtonVisible={IsEditButtonVisible}\n                  isEditActive={isEditActive}\n                  isEditActiveId={isEditActiveId}\n                />\n                )))}\n              <div className=\"columnDelete\">\n                <ButtonDeleteCategoryProducts\n                  item={product}\n                  category={false}\n                  updateAfterDelete={this.updateAfterDelete}\n                  setIsProductsUpdated={setIsProductsUpdated}\n                  isProductsUpdated={isProductsUpdated}\n                />\n              </div>\n            </div>\n          </li>\n        ))}\n      </>\n    );\n  }\n}\n\nexport default EditProductsPageColumns;\n"]},"metadata":{},"sourceType":"module"}