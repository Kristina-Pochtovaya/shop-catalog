{"ast":null,"code":"var _jsxFileName = \"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/src/pages/personalAccount/components/PersonaIformationComponent.jsx\";\nimport React from 'react';\nimport setErrorNotNull from '../../../common/untils/setErrorNotNull';\nimport InputWitchCkeckingNotNull from '../../../common/input/components/InputWitchCkeckingNotNullComponent';\nimport formatPhoneNumber from '../../../common/untils/formatPhoneNumber';\nimport PopUp from '../../../common/popup/components/PopUpComponent';\nimport PopUpSomethingWentWrong from '../../../common/popup/components/PopUpSomethingWentWrongComponent';\nimport getUsers from '../api/get/getUsers';\nimport postChangeUserInformation from '../api/post/postChangeUserInformation';\nimport removeErrorNotNull from '../../../common/untils/removeErrorNotNull';\nimport setErrorNotNullGroupsPersonalInformation from '../utils/setErrorNotNullGroupsPersonalInformation';\nimport removeErrorLength from '../../../common/untils/removeErrorLength';\nimport setErrorIncorrectLength from '../../../common/untils/setErrorIncorrectLength';\nimport inputPersonalInformationArray from '../constants/inputPersonalInformationArray';\nimport setInitialValue from '../utils/setInitialValue';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PersonaIformation extends React.Component {\n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n\n    this.setError = errorMessage => {\n      this.setState({\n        ErrorMessage: errorMessage\n      });\n    };\n\n    this.setpopupSmthWentWrongActive = value => {\n      this.setState({\n        popupSmthWentWrongActive: value\n      });\n    };\n\n    this.updateDataUsers = (id, firstName, lastName, email, phoneNumber, address, valueIsLoading) => {\n      if (this._isMounted) {\n        this.setState({\n          id,\n          firstName,\n          lastName,\n          email,\n          phoneNumber,\n          address,\n          passwordNew: '',\n          passwordNewRepeat: '',\n          isLoading: valueIsLoading\n        });\n      }\n    };\n\n    this.updateData = (value, name) => {\n      if (name === 'firstName') {\n        this.setState({\n          firstName: value\n        });\n      }\n\n      if (name === 'lastName') {\n        this.setState({\n          lastName: value\n        });\n      }\n\n      if (name === 'email') {\n        this.setState({\n          email: value\n        });\n      }\n\n      if (name === 'passwordNew') {\n        this.setState({\n          passwordNew: value\n        });\n      }\n\n      if (name === 'passwordNewRepeat') {\n        this.setState({\n          passwordNewRepeat: value\n        });\n      }\n\n      if (name === 'phone') {\n        this.setState({\n          phoneNumber: formatPhoneNumber(value)\n        });\n      }\n\n      if (name === 'address') {\n        this.setState({\n          address: value\n        });\n      }\n    };\n\n    this.updatePhone = () => this.setState({\n      phoneNumber: '+375'\n    });\n\n    this.state = {\n      id: '',\n      firstName: '',\n      lastName: '',\n      email: '',\n      phoneNumber: '+375(__)___-__-__',\n      address: '',\n      passwordNew: '',\n      passwordNewRepeat: '',\n      popupSmthWentWrongActive: true,\n      isLoading: false,\n      ErrorMessage: '',\n      errorLength: 'errorlengthString'\n    };\n  }\n\n  async componentDidMount() {\n    this._isMounted = true;\n    const {\n      pages\n    } = this.props;\n    await getUsers(pages.loginPersonalAccountReducer.id, this.updateDataUsers, this.setError);\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    const {\n      firstName,\n      firstNameInput,\n      firstNameSymbol,\n      lastName,\n      lastNameInput,\n      lastNameSymbol,\n      email,\n      emailInput,\n      emailSymbol,\n      phoneNumber,\n      address,\n      id,\n      errorLength,\n      passwordNew,\n      passwordNewInput,\n      passwordNewSymbol,\n      passwordNewRepeat,\n      passwordRepeatInput,\n      passwordRepeatSymbol,\n      popupSmthWentWrongActive,\n      isLoading,\n      ErrorMessage\n    } = this.state;\n    const {\n      setIsPersonalInformationVisible\n    } = this.props;\n\n    async function handleButtonClick() {\n      if (firstName && lastName && email && passwordNew && passwordNewRepeat && passwordNew === passwordNewRepeat && passwordNew.length >= 9) {\n        await postChangeUserInformation(id, firstName, lastName, email, passwordNew, phoneNumber, address);\n        setIsPersonalInformationVisible(false);\n      } else {\n        setErrorNotNullGroupsPersonalInformation(firstName, firstNameInput, firstNameSymbol, lastName, lastNameInput, lastNameSymbol, email, emailInput, emailSymbol, passwordNew, passwordNewInput, passwordNewSymbol, passwordNewRepeat, passwordRepeatInput, passwordRepeatSymbol, setErrorNotNull, setErrorIncorrectLength, errorLength);\n      }\n    }\n\n    if (!isLoading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"-isLoading\",\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 14\n      }, this);\n    }\n\n    if (ErrorMessage) {\n      return /*#__PURE__*/_jsxDEV(PopUp, {\n        active: popupSmthWentWrongActive,\n        setActive: this.setpopupSmthWentWrongActive,\n        children: /*#__PURE__*/_jsxDEV(PopUpSomethingWentWrong, {\n          text: \"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0449\\u0435 \\u0440\\u0430\\u0437\",\n          setpopupSmthWentWrongActive: this.setpopupSmthWentWrongActive\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"personalInformation-wrap\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"personalInformation\",\n        children: [inputPersonalInformationArray.map(input => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: input.name,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: input.classNameOfString,\n            children: input.nameOfString\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(InputWitchCkeckingNotNull, {\n            initialValue: setInitialValue(input.name, firstName, lastName, email, phoneNumber, address, passwordNew, passwordNewRepeat),\n            type: input.type,\n            name: input.name,\n            classInput: input.className,\n            classSymbol: input.classNameSymbol,\n            updateData: this.updateData,\n            removeErrorNotNull: input.removeErrorNotNull ? removeErrorNotNull : '',\n            removeErrorLength: input.removeErrorLength ? removeErrorLength : '',\n            classerrorLength: input.classerrorLength ? errorLength : '',\n            minLength: input.minLength ? '13' : '',\n            maxLength: input.maxLength ? '13' : '',\n            placeholder: input.placeholder ? '+375 (__) ___-__-__' : '',\n            onFocus: input.placeholder ? this.updatePhone : '',\n            classNameOfString: input.classNameOfString,\n            nameOfString: input.nameOfString\n          }, input.className, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this), input.name === 'passwordNew' && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: `${errorLength} -disabled`,\n            children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0434\\u043E\\u043B\\u0436\\u0435\\u043D \\u0431\\u044B\\u0442\\u044C \\u043D\\u0435 \\u043C\\u0435\\u043D\\u0435\\u0435 9 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 48\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(InputWitchCkeckingNotNull, {\n          initialValue: firstName,\n          type: \"text\",\n          name: \"firstName\",\n          classInput: firstNameInput,\n          classSymbol: firstNameSymbol,\n          updateData: this.updateData,\n          removeErrorNotNull: removeErrorNotNull\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"changePasswordButton\",\n          onClick: () => {\n            handleButtonClick();\n          },\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default PersonaIformation;","map":{"version":3,"sources":["/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/src/pages/personalAccount/components/PersonaIformationComponent.jsx"],"names":["React","setErrorNotNull","InputWitchCkeckingNotNull","formatPhoneNumber","PopUp","PopUpSomethingWentWrong","getUsers","postChangeUserInformation","removeErrorNotNull","setErrorNotNullGroupsPersonalInformation","removeErrorLength","setErrorIncorrectLength","inputPersonalInformationArray","setInitialValue","PersonaIformation","Component","constructor","props","_isMounted","setError","errorMessage","setState","ErrorMessage","setpopupSmthWentWrongActive","value","popupSmthWentWrongActive","updateDataUsers","id","firstName","lastName","email","phoneNumber","address","valueIsLoading","passwordNew","passwordNewRepeat","isLoading","updateData","name","updatePhone","state","errorLength","componentDidMount","pages","loginPersonalAccountReducer","componentWillUnmount","render","firstNameInput","firstNameSymbol","lastNameInput","lastNameSymbol","emailInput","emailSymbol","passwordNewInput","passwordNewSymbol","passwordRepeatInput","passwordRepeatSymbol","setIsPersonalInformationVisible","handleButtonClick","length","map","input","classNameOfString","nameOfString","type","className","classNameSymbol","classerrorLength","minLength","maxLength","placeholder"],"mappings":"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","sourcesContent":["import React from 'react';\nimport setErrorNotNull from '../../../common/untils/setErrorNotNull';\nimport InputWitchCkeckingNotNull from '../../../common/input/components/InputWitchCkeckingNotNullComponent';\nimport formatPhoneNumber from '../../../common/untils/formatPhoneNumber';\nimport PopUp from '../../../common/popup/components/PopUpComponent';\nimport PopUpSomethingWentWrong from '../../../common/popup/components/PopUpSomethingWentWrongComponent';\nimport getUsers from '../api/get/getUsers';\nimport postChangeUserInformation from '../api/post/postChangeUserInformation';\nimport removeErrorNotNull from '../../../common/untils/removeErrorNotNull';\nimport setErrorNotNullGroupsPersonalInformation from '../utils/setErrorNotNullGroupsPersonalInformation';\nimport removeErrorLength from '../../../common/untils/removeErrorLength';\nimport setErrorIncorrectLength from '../../../common/untils/setErrorIncorrectLength';\nimport inputPersonalInformationArray from '../constants/inputPersonalInformationArray';\nimport setInitialValue from '../utils/setInitialValue';\n\nclass PersonaIformation extends React.Component {\n  _isMounted = false;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: '',\n      firstName: '',\n      lastName: '',\n      email: '',\n      phoneNumber: '+375(__)___-__-__',\n      address: '',\n      passwordNew: '',\n      passwordNewRepeat: '',\n      popupSmthWentWrongActive: true,\n      isLoading: false,\n      ErrorMessage: '',\n      errorLength: 'errorlengthString',\n    };\n  }\n\n  async componentDidMount() {\n    this._isMounted = true;\n    const { pages } = this.props;\n    await getUsers(\n      pages.loginPersonalAccountReducer.id,\n      this.updateDataUsers, this.setError,\n    );\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  setError = (errorMessage) => { this.setState({ ErrorMessage: errorMessage }); }\n\n  setpopupSmthWentWrongActive = (value) => { this.setState({ popupSmthWentWrongActive: value }); }\n\n  updateDataUsers = (id, firstName, lastName,\n    email, phoneNumber, address, valueIsLoading) => {\n    if (this._isMounted) {\n      this.setState({\n        id,\n        firstName,\n        lastName,\n        email,\n        phoneNumber,\n        address,\n        passwordNew: '',\n        passwordNewRepeat: '',\n        isLoading: valueIsLoading,\n      });\n    }\n  }\n\n  updateData = (value, name) => {\n    if (name === 'firstName') { this.setState({ firstName: value }); }\n    if (name === 'lastName') { this.setState({ lastName: value }); }\n    if (name === 'email') { this.setState({ email: value }); }\n    if (name === 'passwordNew') { this.setState({ passwordNew: value }); }\n    if (name === 'passwordNewRepeat') { this.setState({ passwordNewRepeat: value }); }\n    if (name === 'phone') { this.setState({ phoneNumber: formatPhoneNumber(value) }); }\n    if (name === 'address') { this.setState({ address: value }); }\n  }\n\n  updatePhone = () => this.setState({ phoneNumber: '+375' });\n\n  render() {\n    const {\n      firstName, firstNameInput, firstNameSymbol,\n      lastName, lastNameInput, lastNameSymbol,\n      email, emailInput, emailSymbol,\n      phoneNumber, address, id, errorLength,\n      passwordNew, passwordNewInput, passwordNewSymbol,\n      passwordNewRepeat, passwordRepeatInput, passwordRepeatSymbol,\n      popupSmthWentWrongActive, isLoading, ErrorMessage,\n    } = this.state;\n\n    const { setIsPersonalInformationVisible } = this.props;\n\n    async function handleButtonClick() {\n      if ((firstName && lastName && email && passwordNew && passwordNewRepeat)\n      && (passwordNew === passwordNewRepeat) && (passwordNew.length >= 9)) {\n        await postChangeUserInformation(\n          id, firstName, lastName, email, passwordNew, phoneNumber, address,\n        ); setIsPersonalInformationVisible(false);\n      } else {\n        setErrorNotNullGroupsPersonalInformation(\n          firstName, firstNameInput, firstNameSymbol, lastName, lastNameInput, lastNameSymbol,\n          email, emailInput, emailSymbol, passwordNew, passwordNewInput, passwordNewSymbol,\n          passwordNewRepeat, passwordRepeatInput, passwordRepeatSymbol, setErrorNotNull,\n          setErrorIncorrectLength, errorLength,\n        );\n      }\n    }\n\n    if (!isLoading) {\n      return <div className=\"-isLoading\"> </div>;\n    }\n    if (ErrorMessage) {\n      return (\n        <PopUp\n          active={popupSmthWentWrongActive}\n          setActive={this.setpopupSmthWentWrongActive}\n        >\n          <PopUpSomethingWentWrong\n            text=\"Попробуйте еще раз\"\n            setpopupSmthWentWrongActive={this.setpopupSmthWentWrongActive}\n          />\n        </PopUp>\n      );\n    }\n    return (\n      <div className=\"personalInformation-wrap\">\n        <form className=\"personalInformation\">\n          {inputPersonalInformationArray.map((input) => (\n            <div className={input.name}>\n              <p className={input.classNameOfString}>{input.nameOfString}</p>\n              <InputWitchCkeckingNotNull\n                key={input.className}\n                initialValue={setInitialValue(input.name, firstName, lastName, email,\n                  phoneNumber, address, passwordNew, passwordNewRepeat)}\n                type={input.type}\n                name={input.name}\n                classInput={input.className}\n                classSymbol={input.classNameSymbol}\n                updateData={this.updateData}\n                removeErrorNotNull={input.removeErrorNotNull ? removeErrorNotNull : ''}\n                removeErrorLength={input.removeErrorLength ? removeErrorLength : ''}\n                classerrorLength={input.classerrorLength ? errorLength : ''}\n                minLength={input.minLength ? '13' : ''}\n                maxLength={input.maxLength ? '13' : ''}\n                placeholder={input.placeholder ? '+375 (__) ___-__-__' : ''}\n                onFocus={input.placeholder ? this.updatePhone : ''}\n                classNameOfString={input.classNameOfString}\n                nameOfString={input.nameOfString}\n              />\n              {input.name === 'passwordNew' && <p className={`${errorLength} -disabled`}>Пароль должен быть не менее 9 символов</p>}\n            </div>\n          ))}\n          <InputWitchCkeckingNotNull\n            initialValue={firstName}\n            type=\"text\"\n            name=\"firstName\"\n            classInput={firstNameInput}\n            classSymbol={firstNameSymbol}\n            updateData={this.updateData}\n            removeErrorNotNull={removeErrorNotNull}\n          />\n          <button\n            type=\"button\"\n            className=\"changePasswordButton\"\n            onClick={() => {\n              handleButtonClick();\n            }}\n          >\n            Сохранить\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default PersonaIformation;\n"]},"metadata":{},"sourceType":"module"}