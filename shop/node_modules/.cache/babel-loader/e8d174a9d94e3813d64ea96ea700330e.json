{"ast":null,"code":"import _regeneratorRuntime from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import serverUrl from'../../../../common/constants/urls';var productsEdit='/products-edit';function postProducts(_x){return _postProducts.apply(this,arguments);}function _postProducts(){_postProducts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(state){var errorImage,categoryId,payload,response,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:errorImage=document.getElementById('errorImageString');categoryId=state.categoriesArray.filter(function(categoryItem){return categoryItem.category===state.productCategory;}).map(function(categoryItem){return categoryItem.id;});payload={data:{id:state.isEditActiveId,categoryId:categoryId,category:state.productCategory,description:state.productName,image:state.productImage,price:state.productPrice,inStock:state.productInStock}};_context.prev=3;_context.next=6;return axios.post(\"\".concat(serverUrl).concat(productsEdit),{payload:payload,headers:{'Content-Type':'multipart/form-data'}});case 6:response=_context.sent;result=response.data;errorImage.setAttribute('class','errorImageString -disabled');return _context.abrupt(\"return\",result);case 12:_context.prev=12;_context.t0=_context[\"catch\"](3);errorImage.setAttribute('class','errorImageString');return _context.abrupt(\"return\",null);case 16:case\"end\":return _context.stop();}}},_callee,null,[[3,12]]);}));return _postProducts.apply(this,arguments);}export default postProducts;","map":{"version":3,"sources":["/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/src/pages/editProducts/api/post/postProducts.jsx"],"names":["axios","serverUrl","productsEdit","postProducts","state","errorImage","document","getElementById","categoryId","categoriesArray","filter","categoryItem","category","productCategory","map","id","payload","data","isEditActiveId","description","productName","image","productImage","price","productPrice","inStock","productInStock","post","headers","response","result","setAttribute"],"mappings":"iZAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,mCAAtB,CAEA,GAAMC,CAAAA,YAAY,CAAG,gBAArB,C,QAEeC,CAAAA,Y,gJAAf,iBAA4BC,KAA5B,oKACQC,UADR,CACqBC,QAAQ,CAACC,cAAT,CAAwB,kBAAxB,CADrB,CAGQC,UAHR,CAGqBJ,KAAK,CAACK,eAAN,CAChBC,MADgB,CACT,SAACC,YAAD,QAAkBA,CAAAA,YAAY,CAACC,QAAb,GAA0BR,KAAK,CAACS,eAAlD,EADS,EAEhBC,GAFgB,CAEZ,SAACH,YAAD,QAAkBA,CAAAA,YAAY,CAACI,EAA/B,EAFY,CAHrB,CAMQC,OANR,CAMkB,CACdC,IAAI,CAAE,CACJF,EAAE,CAAEX,KAAK,CAACc,cADN,CAEJV,UAAU,CAAVA,UAFI,CAGJI,QAAQ,CAAER,KAAK,CAACS,eAHZ,CAIJM,WAAW,CAAEf,KAAK,CAACgB,WAJf,CAKJC,KAAK,CAAEjB,KAAK,CAACkB,YALT,CAMJC,KAAK,CAAEnB,KAAK,CAACoB,YANT,CAOJC,OAAO,CAAErB,KAAK,CAACsB,cAPX,CADQ,CANlB,uCAkB2B1B,CAAAA,KAAK,CAAC2B,IAAN,WAAc1B,SAAd,SAA0BC,YAA1B,EAA0C,CAC/Dc,OAAO,CAAPA,OAD+D,CAE/DY,OAAO,CAAE,CACP,eAAgB,qBADT,CAFsD,CAA1C,CAlB3B,QAkBUC,QAlBV,eAwBUC,MAxBV,CAwBmBD,QAAQ,CAACZ,IAxB5B,CAyBIZ,UAAU,CAAC0B,YAAX,CAAwB,OAAxB,CAAiC,4BAAjC,EAzBJ,gCA0BWD,MA1BX,4DA4BIzB,UAAU,CAAC0B,YAAX,CAAwB,OAAxB,CAAiC,kBAAjC,EA5BJ,gCA6BW,IA7BX,uE,+CAiCA,cAAe5B,CAAAA,YAAf","sourcesContent":["import axios from 'axios';\nimport serverUrl from '../../../../common/constants/urls';\n\nconst productsEdit = '/products-edit';\n\nasync function postProducts(state) {\n  const errorImage = document.getElementById('errorImageString');\n\n  const categoryId = state.categoriesArray\n    .filter((categoryItem) => categoryItem.category === state.productCategory)\n    .map((categoryItem) => categoryItem.id);\n  const payload = {\n    data: {\n      id: state.isEditActiveId,\n      categoryId,\n      category: state.productCategory,\n      description: state.productName,\n      image: state.productImage,\n      price: state.productPrice,\n      inStock: state.productInStock,\n    },\n  };\n  try {\n    const response = await axios.post(`${serverUrl}${productsEdit}`, {\n      payload,\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n    });\n    const result = response.data;\n    errorImage.setAttribute('class', 'errorImageString -disabled');\n    return result;\n  } catch (error) {\n    errorImage.setAttribute('class', 'errorImageString');\n    return null;\n  }\n}\n\nexport default postProducts;\n"]},"metadata":{},"sourceType":"module"}