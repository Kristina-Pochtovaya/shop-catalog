{"ast":null,"code":"import _slicedToArray from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{React,useState,useEffect}from'react';import{Provider}from'react-redux';import{BrowserRouter,Route,Redirect}from'react-router-dom';import ConnectedHeader from'./pages/main/header/components/HeaderComponent';import Catalog from'./pages/main/catalog/components/CatalogComponent';import Footer from'./pages/main/footer/components/FooterComponent';import About from'./pages/about/components/AboutComponent';import aboutUS from'./assets/header/about-us.png';import ConnectedBasket from'./pages/basket/containers/ConnectedBasketComponent';import createStore from'./redux/store';import getCatalogCategories from'./pages/main/catalog/api/get/getCatalogCategories';import PopUp from'./common/popup/components/PopUpComponent';import PopupBasket from'./pages/catalogItems/components/PopupBasketComponent';import ConnectedChangePassword from'./pages/changePassword/components/ChangePasswordComponent';import PersonalAccount from'./pages/personalAccount/components/PersonalAccountComponent';import ConnectedRegistration from'./pages/registration/containers/ConnectedRegistrationComponent';import getProductsRequest from'./common/api/get/getProductsRequest';import{ConnectedCatalogItem}from'./pages/catalogItems/components/CatalogItemComponent';import setImg from'./common/untils/setImg';import PopUpSomethingWentWrong from'./common/popup/components/PopUpSomethingWentWrongComponent';import EditCategoryPage from'./pages/editCategory/components/EditCategoryPageComponent';import AddCategoryPage from'./pages/editCategory/components/AddCategoryPageComponent';import AddProductPageComponent from'./pages/editProducts/components/AddProductPageComponent';import EditProductsPage from'./pages/editProducts/components/EditProductsPageComponent';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var store=createStore();export function AppShopCatalog(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),categoriesArray=_useState2[0],setCategories=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),productsArray=_useState4[0],setProducts=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoadingCategory=_useState6[0],setLoadingCategory=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isLoadingProducts=_useState8[0],setLoadingProducts=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),errorCategory=_useState10[0],setErrorCategory=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),errorProducts=_useState12[0],setErrorProducts=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),popupBasketActive=_useState14[0],setPopupBasketctive=_useState14[1];var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),popupSmthWentWrongActive=_useState16[0],setpopupSmthWentWrongActive=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isProductsUpdated=_useState18[0],setIsProductsUpdated=_useState18[1];useEffect(function(){getProductsRequest(setProducts,setLoadingProducts,setErrorProducts);getCatalogCategories(setCategories,setLoadingCategory,setErrorCategory);},[isProductsUpdated]);if(!isLoadingProducts||!isLoadingCategory){return/*#__PURE__*/_jsx(\"div\",{className:\"-isLoading\",children:\" \"});}if(errorProducts||errorCategory){return/*#__PURE__*/_jsx(PopUp,{active:popupSmthWentWrongActive,setActive:setpopupSmthWentWrongActive,children:/*#__PURE__*/_jsx(PopUpSomethingWentWrong,{text:\"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0449\\u0435 \\u0440\\u0430\\u0437\",setpopupSmthWentWrongActive:setpopupSmthWentWrongActive})});}return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Provider,{store:store,children:[/*#__PURE__*/_jsx(Route,{path:\"/\",children:/*#__PURE__*/_jsx(Redirect,{to:\"/main-page\"})}),/*#__PURE__*/_jsxs(Route,{path:\"/main-page\",children:[/*#__PURE__*/_jsx(ConnectedHeader,{linkItem:/*#__PURE__*/_jsx(\"img\",{src:aboutUS,alt:\"\\u041E \\u043D\\u0430\\u0441\"}),link:\"/about\",disabled:false}),/*#__PURE__*/_jsx(Catalog,{}),/*#__PURE__*/_jsx(Footer,{})]}),/*#__PURE__*/_jsx(Route,{path:\"/about\",children:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"/basket\",children:/*#__PURE__*/_jsx(ConnectedBasket,{})}),categoriesArray.categories.map(function(category){return/*#__PURE__*/_jsxs(Route,{path:category.link,children:[/*#__PURE__*/_jsx(ConnectedHeader,{linkItem:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"buttonBack\",children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),link:\"/main-page\",disabled:false}),/*#__PURE__*/_jsx(\"div\",{className:\"container-wrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"items\",children:productsArray.products.map(function(product){return product.categoryId===category.id&&/*#__PURE__*/_jsx(ConnectedCatalogItem,{id:product.id,img:/*#__PURE__*/_jsx(\"img\",{className:\"imgItem\",src:setImg(product.description),alt:product.imgAlt,title:product.imgTitle}),description:product.description,inStock:product.inStock,price:product.price,setPopupBasketctive:setPopupBasketctive,counter:product.counter,category:product.category},product.id);})})}),/*#__PURE__*/_jsx(PopUp,{active:popupBasketActive,setActive:setPopupBasketctive,children:/*#__PURE__*/_jsx(PopupBasket,{closePopup:setPopupBasketctive})}),/*#__PURE__*/_jsx(Footer,{})]},category.id);}),/*#__PURE__*/_jsx(Route,{path:\"/change-password\",children:/*#__PURE__*/_jsx(ConnectedChangePassword,{})}),/*#__PURE__*/_jsx(Route,{path:\"/personal\",children:/*#__PURE__*/_jsx(PersonalAccount,{})}),/*#__PURE__*/_jsx(Route,{path:\"/registration\",children:/*#__PURE__*/_jsx(ConnectedRegistration,{})}),/*#__PURE__*/_jsx(Route,{path:\"/edit-category\",children:/*#__PURE__*/_jsx(EditCategoryPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/add-category\",children:/*#__PURE__*/_jsx(AddCategoryPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/add-product\",children:/*#__PURE__*/_jsx(AddProductPageComponent,{})}),/*#__PURE__*/_jsx(Route,{path:\"/edit-products\",children:/*#__PURE__*/_jsx(EditProductsPage,{setIsProductsUpdated:setIsProductsUpdated,isProductsUpdated:isProductsUpdated})})]})});}export default AppShopCatalog;","map":{"version":3,"sources":["/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/src/AppShopCatalogComponent.jsx"],"names":["React","useState","useEffect","Provider","BrowserRouter","Route","Redirect","ConnectedHeader","Catalog","Footer","About","aboutUS","ConnectedBasket","createStore","getCatalogCategories","PopUp","PopupBasket","ConnectedChangePassword","PersonalAccount","ConnectedRegistration","getProductsRequest","ConnectedCatalogItem","setImg","PopUpSomethingWentWrong","EditCategoryPage","AddCategoryPage","AddProductPageComponent","EditProductsPage","store","AppShopCatalog","categoriesArray","setCategories","productsArray","setProducts","isLoadingCategory","setLoadingCategory","isLoadingProducts","setLoadingProducts","errorCategory","setErrorCategory","errorProducts","setErrorProducts","popupBasketActive","setPopupBasketctive","popupSmthWentWrongActive","setpopupSmthWentWrongActive","isProductsUpdated","setIsProductsUpdated","categories","map","category","link","products","product","categoryId","id","description","imgAlt","imgTitle","inStock","price","counter"],"mappings":"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","sourcesContent":["import { React, useState, useEffect } from 'react';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Route, Redirect } from 'react-router-dom';\nimport ConnectedHeader from './pages/main/header/components/HeaderComponent';\nimport Catalog from './pages/main/catalog/components/CatalogComponent';\nimport Footer from './pages/main/footer/components/FooterComponent';\nimport About from './pages/about/components/AboutComponent';\nimport aboutUS from './assets/header/about-us.png';\nimport ConnectedBasket from './pages/basket/containers/ConnectedBasketComponent';\nimport createStore from './redux/store';\nimport getCatalogCategories from './pages/main/catalog/api/get/getCatalogCategories';\nimport PopUp from './common/popup/components/PopUpComponent';\nimport PopupBasket from './pages/catalogItems/components/PopupBasketComponent';\nimport ConnectedChangePassword from './pages/changePassword/components/ChangePasswordComponent';\nimport PersonalAccount from './pages/personalAccount/components/PersonalAccountComponent';\nimport ConnectedRegistration from './pages/registration/containers/ConnectedRegistrationComponent';\nimport getProductsRequest from './common/api/get/getProductsRequest';\nimport { ConnectedCatalogItem } from './pages/catalogItems/components/CatalogItemComponent';\nimport setImg from './common/untils/setImg';\nimport PopUpSomethingWentWrong from './common/popup/components/PopUpSomethingWentWrongComponent';\nimport EditCategoryPage from './pages/editCategory/components/EditCategoryPageComponent';\nimport AddCategoryPage from './pages/editCategory/components/AddCategoryPageComponent';\nimport AddProductPageComponent from './pages/editProducts/components/AddProductPageComponent';\nimport EditProductsPage from './pages/editProducts/components/EditProductsPageComponent';\n\nconst store = createStore();\n\nexport function AppShopCatalog() {\n  const [categoriesArray, setCategories] = useState(null);\n  const [productsArray, setProducts] = useState(null);\n  const [isLoadingCategory, setLoadingCategory] = useState(false);\n  const [isLoadingProducts, setLoadingProducts] = useState(false);\n  const [errorCategory, setErrorCategory] = useState(null);\n  const [errorProducts, setErrorProducts] = useState(false);\n  const [popupBasketActive, setPopupBasketctive] = useState(false);\n  const [popupSmthWentWrongActive, setpopupSmthWentWrongActive] = useState(true);\n  const [isProductsUpdated, setIsProductsUpdated] = useState(false);\n\n  useEffect(() => {\n    getProductsRequest(setProducts, setLoadingProducts, setErrorProducts);\n    getCatalogCategories(\n      setCategories, setLoadingCategory, setErrorCategory,\n    );\n  }, [isProductsUpdated]);\n\n  if (!isLoadingProducts || !isLoadingCategory) {\n    return <div className=\"-isLoading\"> </div>;\n  }\n\n  if (errorProducts || errorCategory) {\n    return (\n      <PopUp\n        active={popupSmthWentWrongActive}\n        setActive={setpopupSmthWentWrongActive}\n      >\n        <PopUpSomethingWentWrong\n          text=\"Попробуйте еще раз\"\n          setpopupSmthWentWrongActive={setpopupSmthWentWrongActive}\n        />\n      </PopUp>\n    );\n  }\n\n  return (\n    <BrowserRouter>\n      {/*       <button\n        type=\"button\"\n        onClick={() => (isProductsUpdated ? setIsProductsUpdated(false)\n          : setIsProductsUpdated(true))}\n      >\n        CLick\n      </button> */}\n      <Provider store={store}>\n        <Route path=\"/\">\n          <Redirect to=\"/main-page\" />\n        </Route>\n        <Route path=\"/main-page\">\n          <ConnectedHeader linkItem={<img src={aboutUS} alt=\"О нас\" />} link=\"/about\" disabled={false} />\n          <Catalog />\n          <Footer />\n        </Route>\n        <Route path=\"/about\">\n          <About />\n        </Route>\n        <Route path=\"/basket\">\n          <ConnectedBasket />\n        </Route>\n        {categoriesArray.categories.map((category) => (\n          <Route path={category.link} key={category.id}>\n            <ConnectedHeader\n              linkItem={<button type=\"button\" className=\"buttonBack\">Назад</button>}\n              link=\"/main-page\"\n              disabled={false}\n            />\n            <div className=\"container-wrap\">\n              <div className=\"items\">\n                {productsArray.products.map((product) => (product.categoryId === category.id\n                  && (\n                  <ConnectedCatalogItem\n                    key={product.id}\n                    id={product.id}\n                    img={(\n                      <img\n                        className=\"imgItem\"\n                        src={setImg(product.description)}\n                        alt={product.imgAlt}\n                        title={product.imgTitle}\n                      />\n     )}\n                    description={product.description}\n                    inStock={product.inStock}\n                    price={product.price}\n                    setPopupBasketctive={setPopupBasketctive}\n                    counter={product.counter}\n                    category={product.category}\n                  />\n                  )\n                ))}\n              </div>\n            </div>\n            <PopUp active={popupBasketActive} setActive={setPopupBasketctive}>\n              <PopupBasket closePopup={setPopupBasketctive} />\n            </PopUp>\n            <Footer />\n          </Route>\n        ))}\n        <Route path=\"/change-password\">\n          <ConnectedChangePassword />\n        </Route>\n        <Route path=\"/personal\">\n          <PersonalAccount />\n        </Route>\n        <Route path=\"/registration\">\n          <ConnectedRegistration />\n        </Route>\n        <Route path=\"/edit-category\">\n          <EditCategoryPage />\n        </Route>\n        <Route path=\"/add-category\">\n          <AddCategoryPage />\n        </Route>\n        <Route path=\"/add-product\">\n          <AddProductPageComponent />\n        </Route>\n        <Route path=\"/edit-products\">\n          <EditProductsPage\n            setIsProductsUpdated={setIsProductsUpdated}\n            isProductsUpdated={isProductsUpdated}\n          />\n        </Route>\n      </Provider>\n    </BrowserRouter>\n  );\n}\n\nexport default AppShopCatalog;\n"]},"metadata":{},"sourceType":"module"}