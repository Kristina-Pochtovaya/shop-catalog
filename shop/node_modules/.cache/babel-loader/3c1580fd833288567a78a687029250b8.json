{"ast":null,"code":"import _objectSpread from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{ADD,DELETE,INCREASE,DECREASE,DELETEALL}from'../actions/catalogItemsActions';var initialState=[];var catalogItemsReducer=function catalogItemsReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD.type:{var index=state.findIndex(function(item){return item.id===action.payload.item.id;});if(index===-1){return[].concat(_toConsumableArray(state),[action.payload.item]);}return state;}case INCREASE.type:{var _index=state.findIndex(function(item){return item.id===action.payload.itemId;});return[].concat(_toConsumableArray(state.slice(0,_index)),[_objectSpread(_objectSpread({},state[_index]),{},{counter:action.payload.counter+1})],_toConsumableArray(state.slice(_index+1)));}case DECREASE.type:{if(action.payload.counter>1){var _index2=state.findIndex(function(item){return item.id===action.payload.itemId;});return[].concat(_toConsumableArray(state.slice(0,_index2)),[_objectSpread(_objectSpread({},state[_index2]),{},{counter:action.payload.counter-1})],_toConsumableArray(state.slice(_index2+1)));}return state;}case DELETE.type:{return _toConsumableArray(state.filter(function(item){return item.id!==action.payload.itemId;}));}case DELETEALL.type:{return[];}default:return state;}};export default catalogItemsReducer;","map":{"version":3,"sources":["/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/src/redux/reducers/catalogItemsReducer.jsx"],"names":["ADD","DELETE","INCREASE","DECREASE","DELETEALL","initialState","catalogItemsReducer","state","action","type","index","findIndex","item","id","payload","itemId","slice","counter","filter"],"mappings":"iZAAA,OACEA,GADF,CACOC,MADP,CACeC,QADf,CACyBC,QADzB,CACmCC,SADnC,KAEO,gCAFP,CAIA,GAAMC,CAAAA,YAAY,CAAG,EAArB,CAEA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAkC,IAAjCC,CAAAA,KAAiC,2DAAzBF,YAAyB,IAAXG,CAAAA,MAAW,2CAC5D,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKT,CAAAA,GAAG,CAACS,IAAT,CAAe,CACb,GAAMC,CAAAA,KAAK,CAAGH,KAAK,CAACI,SAAN,CAAgB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,EAAL,GAAYL,MAAM,CAACM,OAAP,CAAeF,IAAf,CAAoBC,EAA1C,EAAhB,CAAd,CACA,GAAIH,KAAK,GAAK,CAAC,CAAf,CAAkB,CAChB,mCAAWH,KAAX,GAAkBC,MAAM,CAACM,OAAP,CAAeF,IAAjC,GACD,CAAC,MAAOL,CAAAA,KAAP,CACH,CAED,IAAKL,CAAAA,QAAQ,CAACO,IAAd,CAAoB,CAClB,GAAMC,CAAAA,MAAK,CAAGH,KAAK,CAACI,SAAN,CAAgB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,EAAL,GAAYL,MAAM,CAACM,OAAP,CAAeC,MAArC,EAAhB,CAAd,CACA,mCACKR,KAAK,CAACS,KAAN,CAAY,CAAZ,CAAeN,MAAf,CADL,kCAEOH,KAAK,CAACG,MAAD,CAFZ,MAEqBO,OAAO,CAAET,MAAM,CAACM,OAAP,CAAeG,OAAf,CAAyB,CAFvD,uBAGKV,KAAK,CAACS,KAAN,CAAYN,MAAK,CAAG,CAApB,CAHL,GAKD,CAED,IAAKP,CAAAA,QAAQ,CAACM,IAAd,CAAoB,CAClB,GAAID,MAAM,CAACM,OAAP,CAAeG,OAAf,CAAyB,CAA7B,CAAgC,CAC9B,GAAMP,CAAAA,OAAK,CAAGH,KAAK,CAACI,SAAN,CAAgB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,EAAL,GAAYL,MAAM,CAACM,OAAP,CAAeC,MAArC,EAAhB,CAAd,CACA,mCACKR,KAAK,CAACS,KAAN,CAAY,CAAZ,CAAeN,OAAf,CADL,kCAEOH,KAAK,CAACG,OAAD,CAFZ,MAEqBO,OAAO,CAAET,MAAM,CAACM,OAAP,CAAeG,OAAf,CAAyB,CAFvD,uBAGKV,KAAK,CAACS,KAAN,CAAYN,OAAK,CAAG,CAApB,CAHL,GAKD,CAAC,MAAOH,CAAAA,KAAP,CACH,CAED,IAAKN,CAAAA,MAAM,CAACQ,IAAZ,CAAkB,CAChB,0BACKF,KAAK,CAACW,MAAN,CAAa,SAACN,IAAD,QAAUA,CAAAA,IAAI,CAACC,EAAL,GAAYL,MAAM,CAACM,OAAP,CAAeC,MAArC,EAAb,CADL,EAGD,CAED,IAAKX,CAAAA,SAAS,CAACK,IAAf,CAAqB,CACnB,MAAO,EAAP,CACD,CAED,QACE,MAAOF,CAAAA,KAAP,CAvCJ,CAyCD,CA1CD,CA4CA,cAAeD,CAAAA,mBAAf","sourcesContent":["import {\n  ADD, DELETE, INCREASE, DECREASE, DELETEALL,\n} from '../actions/catalogItemsActions';\n\nconst initialState = [];\n\nconst catalogItemsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD.type: {\n      const index = state.findIndex((item) => item.id === action.payload.item.id);\n      if (index === -1) {\n        return [...state, action.payload.item];\n      } return state;\n    }\n\n    case INCREASE.type: {\n      const index = state.findIndex((item) => item.id === action.payload.itemId);\n      return [\n        ...state.slice(0, index),\n        { ...state[index], counter: action.payload.counter + 1 },\n        ...state.slice(index + 1),\n      ];\n    }\n\n    case DECREASE.type: {\n      if (action.payload.counter > 1) {\n        const index = state.findIndex((item) => item.id === action.payload.itemId);\n        return [\n          ...state.slice(0, index),\n          { ...state[index], counter: action.payload.counter - 1 },\n          ...state.slice(index + 1),\n        ];\n      } return state;\n    }\n\n    case DELETE.type: {\n      return [\n        ...state.filter((item) => item.id !== action.payload.itemId),\n      ];\n    }\n\n    case DELETEALL.type: {\n      return [];\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default catalogItemsReducer;\n"]},"metadata":{},"sourceType":"module"}