{"ast":null,"code":"var _jsxFileName = \"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/src/pages/personalAccount/components/PersonaIformationComponent.jsx\";\nimport React from 'react';\nimport setErrorNotNull from '../../../common/untils/setErrorNotNull';\nimport InputWitchCkeckingNotNull from '../../../common/input/components/InputWitchCkeckingNotNullComponent';\nimport formatPhoneNumber from '../../../common/untils/formatPhoneNumber';\nimport PopUp from '../../../common/popup/components/PopUpComponent';\nimport PopUpSomethingWentWrong from '../../../common/popup/components/PopUpSomethingWentWrongComponent';\nimport getUsers from '../api/get/getUsers';\nimport postChangeUserInformation from '../api/post/postChangeUserInformation';\nimport removeErrorNotNull from '../../../common/untils/removeErrorNotNull';\nimport setErrorNotNullGroupsPersonalInformation from '../utils/setErrorNotNullGroupsPersonalInformation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PersonaIformation extends React.Component {\n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n\n    this.setError = errorMessage => {\n      this.setState({\n        ErrorMessage: errorMessage\n      });\n    };\n\n    this.setpopupSmthWentWrongActive = value => {\n      this.setState({\n        popupSmthWentWrongActive: value\n      });\n    };\n\n    this.updateDataUsers = (firstName, lastName, email, phoneNumber, address, valueIsLoading, id) => {\n      if (this._isMounted) {\n        this.setState({\n          firstName,\n          lastName,\n          email,\n          phoneNumber,\n          address,\n          passwordNew: '',\n          passwordNewRepeat: '',\n          isLoading: valueIsLoading,\n          id\n        });\n      }\n    };\n\n    this.updateData = (value, name) => {\n      if (name === 'firstName') {\n        this.setState({\n          firstName: value\n        });\n      }\n\n      if (name === 'lastName') {\n        this.setState({\n          lastName: value\n        });\n      }\n\n      if (name === 'email') {\n        this.setState({\n          email: value\n        });\n      }\n\n      if (name === 'passwordNew') {\n        this.setState({\n          passwordNew: value\n        });\n      }\n\n      if (name === 'passwordNewRepeat') {\n        this.setState({\n          passwordNewRepeat: value\n        });\n      }\n\n      if (name === 'PHONE') {\n        this.setState({\n          phoneNumber: formatPhoneNumber(value)\n        });\n      }\n\n      if (name === 'address') {\n        this.setState({\n          address: value\n        });\n      }\n    };\n\n    this.updatePhone = () => this.setState({\n      phoneNumber: '+375'\n    });\n\n    this.state = {\n      id: '',\n      firstName: '',\n      firstNameInput: 'firstNameInput',\n      firstNameSymbol: 'firstNameSymbol',\n      lastName: '',\n      lastNameInput: 'lastNameInput',\n      lastNameSymbol: 'lastNameSymbol',\n      email: '',\n      emailInput: 'emailInput',\n      emailSymbol: 'emailSymbol',\n      phoneNumber: '+375(__)___-__-__',\n      address: '',\n      passwordNew: '',\n      passwordNewInput: 'passwordNewInput',\n      passwordNewSymbol: 'errorSymbolPasswordNew',\n      passwordNewRepeat: '',\n      passwordRepeatInput: 'passwordNewRepeatInput',\n      passwordRepeatSymbol: 'errorSymbolPasswordNewRepeat',\n      popupSmthWentWrongActive: true,\n      isLoading: false,\n      ErrorMessage: ''\n    };\n  }\n\n  async componentDidMount() {\n    this._isMounted = true;\n    const {\n      pages\n    } = this.props;\n    await getUsers(pages.loginPersonalAccountReducer.clientEmail, this.updateDataUsers, this.setError);\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    const {\n      firstName,\n      firstNameInput,\n      firstNameSymbol,\n      lastName,\n      lastNameInput,\n      lastNameSymbol,\n      email,\n      emailInput,\n      emailSymbol,\n      phoneNumber,\n      address,\n      passwordNew,\n      passwordNewInput,\n      passwordNewSymbol,\n      passwordNewRepeat,\n      passwordRepeatInput,\n      passwordRepeatSymbol,\n      popupSmthWentWrongActive,\n      isLoading,\n      ErrorMessage\n    } = this.state;\n    const {\n      setIsPersonalInformationVisible\n    } = this.props;\n\n    async function handleButtonClick() {\n      if (firstName && lastName && email && passwordNew && passwordNewRepeat && passwordNew === passwordNewRepeat) {\n        await postChangeUserInformation(firstName, lastName, email, passwordNew, phoneNumber, address);\n        setIsPersonalInformationVisible(false);\n      } else {\n        setErrorNotNullGroupsPersonalInformation(firstName, firstNameInput, firstNameSymbol, lastName, lastNameInput, lastNameSymbol, email, emailInput, emailSymbol, passwordNew, passwordNewInput, passwordNewSymbol, passwordNewRepeat, passwordRepeatInput, passwordRepeatSymbol, setErrorNotNull);\n      }\n    }\n\n    if (!isLoading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"-isLoading\",\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 14\n      }, this);\n    }\n\n    if (ErrorMessage) {\n      return /*#__PURE__*/_jsxDEV(PopUp, {\n        active: popupSmthWentWrongActive,\n        setActive: this.setpopupSmthWentWrongActive,\n        children: /*#__PURE__*/_jsxDEV(PopUpSomethingWentWrong, {\n          text: \"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0449\\u0435 \\u0440\\u0430\\u0437\",\n          setpopupSmthWentWrongActive: this.setpopupSmthWentWrongActive\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"personalInformation-wrap\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"personalInformation\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"firstName\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"firstNameString -required\",\n            children: \"\\u0418\\u043C\\u044F:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputWitchCkeckingNotNull, {\n            initialValue: firstName,\n            type: \"text\",\n            name: \"firstName\",\n            classInput: firstNameInput,\n            classSymbol: firstNameSymbol,\n            updateData: this.updateData,\n            removeErrorNotNull: removeErrorNotNull\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lastName\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"lastNameString -required\",\n            children: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputWitchCkeckingNotNull, {\n            initialValue: lastName,\n            type: \"text\",\n            name: \"lastName\",\n            classInput: lastNameInput,\n            classSymbol: lastNameSymbol,\n            updateData: this.updateData,\n            removeErrorNotNull: removeErrorNotNull\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"email\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"emailString -required\",\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputWitchCkeckingNotNull, {\n            initialValue: email,\n            type: \"email\",\n            name: \"email\",\n            classInput: emailInput,\n            classSymbol: emailSymbol,\n            updateData: this.updateData,\n            removeErrorNotNull: removeErrorNotNull\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"phone\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"phoneString\",\n            children: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputWitchCkeckingNotNull, {\n            initialValue: phoneNumber,\n            type: \"tel\",\n            name: \"PHONE\",\n            classInput: \"phoneInput\",\n            classSymbol: \"\",\n            updateData: this.updateData,\n            removeErrorNotNull: \"\",\n            removeErrorLength: \"\",\n            classerrorLength: \"\",\n            onEnterEmail: \"\",\n            minLength: \"13\",\n            maxLength: \"13\",\n            placeholder: \"+375 (__) ___-__-__\\\"\",\n            onFocus: this.updatePhone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"address\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"addressString\",\n            children: \"\\u0410\\u0434\\u0440\\u0435\\u0441:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputWitchCkeckingNotNull, {\n            initialValue: address,\n            type: \"text\",\n            name: \"address\",\n            classInput: \"addressInput\",\n            classSymbol: \"\",\n            updateData: this.updateData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"passwordNew\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"passwordNewString -required\",\n            children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputWitchCkeckingNotNull, {\n            initialValue: passwordNew,\n            type: \"password\",\n            name: \"passwordNew\",\n            classInput: passwordNewInput,\n            classSymbol: passwordNewSymbol,\n            updateData: this.updateData,\n            removeErrorNotNull: removeErrorNotNull\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"passwordNewRepeat\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"passwordNewRepeatString -required\",\n            children: \"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputWitchCkeckingNotNull, {\n            initialValue: passwordNewRepeat,\n            type: \"password\",\n            name: \"passwordNewRepeat\",\n            classInput: passwordRepeatInput,\n            classSymbol: passwordRepeatSymbol,\n            updateData: this.updateData,\n            removeErrorNotNull: removeErrorNotNull\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"changePasswordButton\",\n          onClick: () => {\n            handleButtonClick();\n          },\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default PersonaIformation;","map":{"version":3,"sources":["/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/src/pages/personalAccount/components/PersonaIformationComponent.jsx"],"names":["React","setErrorNotNull","InputWitchCkeckingNotNull","formatPhoneNumber","PopUp","PopUpSomethingWentWrong","getUsers","postChangeUserInformation","removeErrorNotNull","setErrorNotNullGroupsPersonalInformation","PersonaIformation","Component","constructor","props","_isMounted","setError","errorMessage","setState","ErrorMessage","setpopupSmthWentWrongActive","value","popupSmthWentWrongActive","updateDataUsers","firstName","lastName","email","phoneNumber","address","valueIsLoading","id","passwordNew","passwordNewRepeat","isLoading","updateData","name","updatePhone","state","firstNameInput","firstNameSymbol","lastNameInput","lastNameSymbol","emailInput","emailSymbol","passwordNewInput","passwordNewSymbol","passwordRepeatInput","passwordRepeatSymbol","componentDidMount","pages","loginPersonalAccountReducer","clientEmail","componentWillUnmount","render","setIsPersonalInformationVisible","handleButtonClick"],"mappings":"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","sourcesContent":["import React from 'react';\nimport setErrorNotNull from '../../../common/untils/setErrorNotNull';\nimport InputWitchCkeckingNotNull from '../../../common/input/components/InputWitchCkeckingNotNullComponent';\nimport formatPhoneNumber from '../../../common/untils/formatPhoneNumber';\nimport PopUp from '../../../common/popup/components/PopUpComponent';\nimport PopUpSomethingWentWrong from '../../../common/popup/components/PopUpSomethingWentWrongComponent';\nimport getUsers from '../api/get/getUsers';\nimport postChangeUserInformation from '../api/post/postChangeUserInformation';\nimport removeErrorNotNull from '../../../common/untils/removeErrorNotNull';\nimport setErrorNotNullGroupsPersonalInformation from '../utils/setErrorNotNullGroupsPersonalInformation';\n\nclass PersonaIformation extends React.Component {\n  _isMounted = false;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      id: '',\n      firstName: '',\n      firstNameInput: 'firstNameInput',\n      firstNameSymbol: 'firstNameSymbol',\n      lastName: '',\n      lastNameInput: 'lastNameInput',\n      lastNameSymbol: 'lastNameSymbol',\n      email: '',\n      emailInput: 'emailInput',\n      emailSymbol: 'emailSymbol',\n      phoneNumber: '+375(__)___-__-__',\n      address: '',\n      passwordNew: '',\n      passwordNewInput: 'passwordNewInput',\n      passwordNewSymbol: 'errorSymbolPasswordNew',\n      passwordNewRepeat: '',\n      passwordRepeatInput: 'passwordNewRepeatInput',\n      passwordRepeatSymbol: 'errorSymbolPasswordNewRepeat',\n      popupSmthWentWrongActive: true,\n      isLoading: false,\n      ErrorMessage: '',\n    };\n  }\n\n  async componentDidMount() {\n    this._isMounted = true;\n    const { pages } = this.props;\n    await getUsers(\n      pages.loginPersonalAccountReducer.clientEmail,\n      this.updateDataUsers, this.setError,\n    );\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  setError = (errorMessage) => { this.setState({ ErrorMessage: errorMessage }); }\n\n  setpopupSmthWentWrongActive = (value) => { this.setState({ popupSmthWentWrongActive: value }); }\n\n  updateDataUsers = (firstName, lastName,\n    email, phoneNumber, address, valueIsLoading, id) => {\n    if (this._isMounted) {\n      this.setState({\n        firstName,\n        lastName,\n        email,\n        phoneNumber,\n        address,\n        passwordNew: '',\n        passwordNewRepeat: '',\n        isLoading: valueIsLoading,\n        id,\n      });\n    }\n  }\n\n  updateData = (value, name) => {\n    if (name === 'firstName') { this.setState({ firstName: value }); }\n    if (name === 'lastName') { this.setState({ lastName: value }); }\n    if (name === 'email') { this.setState({ email: value }); }\n    if (name === 'passwordNew') { this.setState({ passwordNew: value }); }\n    if (name === 'passwordNewRepeat') { this.setState({ passwordNewRepeat: value }); }\n    if (name === 'PHONE') { this.setState({ phoneNumber: formatPhoneNumber(value) }); }\n    if (name === 'address') { this.setState({ address: value }); }\n  }\n\n  updatePhone = () => this.setState({ phoneNumber: '+375' });\n\n  render() {\n    const {\n      firstName, firstNameInput, firstNameSymbol,\n      lastName, lastNameInput, lastNameSymbol,\n      email, emailInput, emailSymbol,\n      phoneNumber, address,\n      passwordNew, passwordNewInput, passwordNewSymbol,\n      passwordNewRepeat, passwordRepeatInput, passwordRepeatSymbol,\n      popupSmthWentWrongActive, isLoading, ErrorMessage,\n    } = this.state;\n    const { setIsPersonalInformationVisible } = this.props;\n\n    async function handleButtonClick() {\n      if ((firstName && lastName && email && passwordNew && passwordNewRepeat)\n      && (passwordNew === passwordNewRepeat)) {\n        await postChangeUserInformation(\n          firstName, lastName, email, passwordNew, phoneNumber, address,\n        ); setIsPersonalInformationVisible(false);\n      } else {\n        setErrorNotNullGroupsPersonalInformation(\n          firstName, firstNameInput, firstNameSymbol, lastName, lastNameInput, lastNameSymbol,\n          email, emailInput, emailSymbol, passwordNew, passwordNewInput, passwordNewSymbol,\n          passwordNewRepeat, passwordRepeatInput, passwordRepeatSymbol, setErrorNotNull,\n        );\n      }\n    }\n\n    if (!isLoading) {\n      return <div className=\"-isLoading\"> </div>;\n    }\n    if (ErrorMessage) {\n      return (\n        <PopUp\n          active={popupSmthWentWrongActive}\n          setActive={this.setpopupSmthWentWrongActive}\n        >\n          <PopUpSomethingWentWrong\n            text=\"Попробуйте еще раз\"\n            setpopupSmthWentWrongActive={this.setpopupSmthWentWrongActive}\n          />\n        </PopUp>\n      );\n    }\n    return (\n      <div className=\"personalInformation-wrap\">\n        <form className=\"personalInformation\">\n          <div className=\"firstName\">\n            <p className=\"firstNameString -required\">Имя:</p>\n            <InputWitchCkeckingNotNull\n              initialValue={firstName}\n              type=\"text\"\n              name=\"firstName\"\n              classInput={firstNameInput}\n              classSymbol={firstNameSymbol}\n              updateData={this.updateData}\n              removeErrorNotNull={removeErrorNotNull}\n            />\n          </div>\n          <div className=\"lastName\">\n            <p className=\"lastNameString -required\">Фамилия:</p>\n            <InputWitchCkeckingNotNull\n              initialValue={lastName}\n              type=\"text\"\n              name=\"lastName\"\n              classInput={lastNameInput}\n              classSymbol={lastNameSymbol}\n              updateData={this.updateData}\n              removeErrorNotNull={removeErrorNotNull}\n            />\n          </div>\n          <div className=\"email\">\n            <p className=\"emailString -required\">Email:</p>\n            <InputWitchCkeckingNotNull\n              initialValue={email}\n              type=\"email\"\n              name=\"email\"\n              classInput={emailInput}\n              classSymbol={emailSymbol}\n              updateData={this.updateData}\n              removeErrorNotNull={removeErrorNotNull}\n            />\n          </div>\n          <div className=\"phone\">\n            <p className=\"phoneString\">Телефон:</p>\n            <InputWitchCkeckingNotNull\n              initialValue={phoneNumber}\n              type=\"tel\"\n              name=\"PHONE\"\n              classInput=\"phoneInput\"\n              classSymbol=\"\"\n              updateData={this.updateData}\n              removeErrorNotNull=\"\"\n              removeErrorLength=\"\"\n              classerrorLength=\"\"\n              onEnterEmail=\"\"\n              minLength=\"13\"\n              maxLength=\"13\"\n              placeholder='+375 (__) ___-__-__\"'\n              onFocus={this.updatePhone}\n            />\n          </div>\n          <div className=\"address\">\n            <p className=\"addressString\">Адрес:</p>\n            <InputWitchCkeckingNotNull\n              initialValue={address}\n              type=\"text\"\n              name=\"address\"\n              classInput=\"addressInput\"\n              classSymbol=\"\"\n              updateData={this.updateData}\n            />\n          </div>\n          <div className=\"passwordNew\">\n            <p className=\"passwordNewString -required\">Пароль:</p>\n            <InputWitchCkeckingNotNull\n              initialValue={passwordNew}\n              type=\"password\"\n              name=\"passwordNew\"\n              classInput={passwordNewInput}\n              classSymbol={passwordNewSymbol}\n              updateData={this.updateData}\n              removeErrorNotNull={removeErrorNotNull}\n            />\n          </div>\n          <div className=\"passwordNewRepeat\">\n            <p className=\"passwordNewRepeatString -required\">Повторите пароль:</p>\n            <InputWitchCkeckingNotNull\n              initialValue={passwordNewRepeat}\n              type=\"password\"\n              name=\"passwordNewRepeat\"\n              classInput={passwordRepeatInput}\n              classSymbol={passwordRepeatSymbol}\n              updateData={this.updateData}\n              removeErrorNotNull={removeErrorNotNull}\n            />\n          </div>\n          <button\n            type=\"button\"\n            className=\"changePasswordButton\"\n            onClick={() => {\n              handleButtonClick();\n            }}\n          >\n            Сохранить\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default PersonaIformation;\n"]},"metadata":{},"sourceType":"module"}