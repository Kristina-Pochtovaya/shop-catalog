{"ast":null,"code":"var _jsxFileName = \"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/src/pages/personalAccount/components/PersonaIformationComponent.jsx\";\n\n/* eslint-disable react/destructuring-assignment */\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport setErrorNotNull from '../../../common/untils/setErrorNotNull';\nimport InputWitchCkeckingNotNull from '../../../common/input/components/InputWitchCkeckingNotNullComponent';\nimport formatPhoneNumber from '../../../common/untils/formatPhoneNumber';\nimport PopUp from '../../../common/popup/components/PopUpComponent';\nimport PopUpSomethingWentWrong from '../../../common/popup/components/PopUpSomethingWentWrongComponent';\nimport getUsers from '../api/get/getUsers';\nimport postChangeUserInformation from '../api/post/postChangeUserInformation';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PersonaIformation extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstName: '',\n      firstNameInput: 'firstNameInput',\n      firstNameSymbol: 'firstNameSymbol',\n      lastName: '',\n      lastNameInput: 'lastNameInput',\n      lastNameSymbol: 'lastNameSymbol',\n      email: '',\n      emailInput: 'emailInput',\n      emailSymbol: 'emailSymbol',\n      phoneNumber: '+375(__)___-__-__',\n      address: '',\n      passwordNew: '',\n      passwordNewInput: 'passwordNewInput',\n      passwordNewSymbol: 'errorSymbolPasswordNew',\n      passwordNewRepeat: '',\n      passwordRepeatInput: 'passwordNewRepeatInput',\n      passwordRepeatSymbol: 'errorSymbolPasswordNewRepeat',\n      popupSmthWentWrongActive: true,\n      isLoading: false,\n      ErrorMessage: ''\n    };\n    this.updateData = this.updateData.bind(this);\n    this.updateDataUsers = this.updateDataUsers.bind(this);\n    this.setError = this.setError.bind(this);\n    this.setpopupSmthWentWrongActive = this.setpopupSmthWentWrongActive.bind(this);\n  }\n\n  async componentDidMount() {\n    this.interval = setTimeout(async () => {\n      await getUsers(this.props.pages.loginPersonalAccountReducer.clientEmail, this.updateDataUsers, this.setError);\n    }, 10);\n  }\n  /*   componentDidUpdate() {\n    this.interval = setTimeout(async () => {\n      const result = await getUsers(\n        this.props.pages.loginPersonalAccountReducer.clientEmail,\n        this.updateDataUsers, this.setError,\n      );\n      this.setState({\n        firstName: result.firstName,\n      });\n      console.log(result);\n    }, 10);\n  } */\n\n\n  setError(errorMessage) {\n    this.setState({\n      ErrorMessage: errorMessage\n    });\n  }\n\n  setpopupSmthWentWrongActive(value) {\n    this.setState({\n      popupSmthWentWrongActive: value\n    });\n  }\n\n  updateDataUsers(firstName, lastName, email, phoneNumber, address, valueIsLoading, passwordNew) {\n    this.setState({\n      firstName,\n      lastName,\n      email,\n      phoneNumber,\n      address,\n      passwordNew,\n      passwordNewRepeat: passwordNew,\n      isLoading: valueIsLoading\n    });\n  }\n\n  updateData(value, name) {\n    if (name === 'firstName') {\n      this.setState({\n        firstName: value\n      });\n    }\n\n    if (name === 'lastName') {\n      this.setState({\n        lastName: value\n      });\n    }\n\n    if (name === 'email') {\n      this.setState({\n        email: value\n      });\n    }\n\n    if (name === 'passwordNew') {\n      this.setState({\n        passwordNew: value\n      });\n    }\n\n    if (name === 'passwordNewRepeat') {\n      this.setState({\n        passwordNewRepeat: value\n      });\n    }\n  }\n\n  render() {\n    const {\n      firstName,\n      firstNameInput,\n      firstNameSymbol,\n      lastName,\n      lastNameInput,\n      lastNameSymbol,\n      email,\n      emailInput,\n      emailSymbol,\n      phoneNumber,\n      address,\n      passwordNew,\n      passwordNewInput,\n      passwordNewSymbol,\n      passwordNewRepeat,\n      passwordRepeatInput,\n      passwordRepeatSymbol,\n      popupSmthWentWrongActive,\n      isLoading,\n      ErrorMessage\n    } = this.state;\n    const {\n      setIsPersonalInformationVisible\n    } = this.props;\n\n    async function handleButtonClick() {\n      await postChangeUserInformation(firstName, lastName, email, passwordNew, phoneNumber, address);\n    }\n\n    if (!isLoading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"-isLoading\",\n        children: \" \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 14\n      }, this);\n    }\n\n    if (ErrorMessage) {\n      return /*#__PURE__*/_jsxDEV(PopUp, {\n        active: popupSmthWentWrongActive,\n        setActive: this.setpopupSmthWentWrongActive,\n        children: /*#__PURE__*/_jsxDEV(PopUpSomethingWentWrong, {\n          text: \"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0449\\u0435 \\u0440\\u0430\\u0437\",\n          setpopupSmthWentWrongActive: this.setpopupSmthWentWrongActive\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"personalInformation-wrap\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"personalInformation\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"firstName\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"firstNameString -required\",\n            children: \"\\u0418\\u043C\\u044F:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputWitchCkeckingNotNull, {\n            initialValue: firstName,\n            type: \"text\",\n            name: \"firstName\",\n            classInput: firstNameInput,\n            classSymbol: firstNameSymbol,\n            updateData: this.updateData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lastName\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"lastNameString -required\",\n            children: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputWitchCkeckingNotNull, {\n            initialValue: lastName,\n            type: \"text\",\n            name: \"lastName\",\n            classInput: lastNameInput,\n            classSymbol: lastNameSymbol,\n            updateData: this.updateData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"email\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"emailString -required\",\n            children: \"Email:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputWitchCkeckingNotNull, {\n            initialValue: email,\n            type: \"email\",\n            name: \"email\",\n            classInput: emailInput,\n            classSymbol: emailSymbol,\n            updateData: this.updateData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"phone\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"phoneString\",\n            children: \"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"phoneInput\",\n            name: \"PHONE\",\n            type: \"tel\",\n            minLength: \"13\",\n            maxLength: \"13\",\n            placeholder: \"+375 (__) ___-__-__\",\n            value: phoneNumber,\n            onFocus: () => this.setState({\n              phoneNumber: '+375'\n            }),\n            onChange: event => {\n              this.setState({\n                phoneNumber: formatPhoneNumber(event.target.value)\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"address\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"addressString\",\n            children: \"\\u0410\\u0434\\u0440\\u0435\\u0441:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"addressInput\",\n            type: \"text\",\n            name: \"address\",\n            value: address,\n            onChange: e => {\n              this.setState({\n                address: e.target.value\n              });\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"passwordNew\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"passwordNewString -required\",\n            children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputWitchCkeckingNotNull, {\n            initialValue: passwordNew,\n            type: \"password\",\n            name: \"passwordNew\",\n            classInput: passwordNewInput,\n            classSymbol: passwordNewSymbol,\n            updateData: this.updateData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"passwordNewRepeat\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"passwordNewRepeatString -required\",\n            children: \"\\u041F\\u043E\\u0432\\u0442\\u043E\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(InputWitchCkeckingNotNull, {\n            initialValue: passwordNewRepeat,\n            type: \"password\",\n            name: \"passwordNewRepeat\",\n            classInput: passwordRepeatInput,\n            classSymbol: passwordRepeatSymbol,\n            updateData: this.updateData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this), firstName && lastName && email && passwordNew && passwordNewRepeat && passwordNew === passwordNewRepeat ? /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"changePasswordButton\",\n          onClick: () => {\n            handleButtonClick();\n            setIsPersonalInformationVisible(false);\n          },\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 5\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"changePasswordButton\",\n          onClick: () => {\n            if (!firstName) {\n              setErrorNotNull(firstNameInput, firstNameSymbol);\n            }\n\n            if (!lastName) {\n              setErrorNotNull(lastNameInput, lastNameSymbol);\n            }\n\n            if (!email) {\n              setErrorNotNull(emailInput, emailSymbol);\n            }\n\n            if (!passwordNew) {\n              setErrorNotNull(passwordNewInput, passwordNewSymbol);\n            }\n\n            if (passwordNew !== passwordNewRepeat) {\n              setErrorNotNull(passwordRepeatInput, passwordRepeatSymbol);\n            }\n          },\n          children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst ConnectedPersonaIformation = connect(state => ({\n  pages: state\n}))(PersonaIformation);\nexport default ConnectedPersonaIformation;","map":{"version":3,"sources":["/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/src/pages/personalAccount/components/PersonaIformationComponent.jsx"],"names":["React","connect","setErrorNotNull","InputWitchCkeckingNotNull","formatPhoneNumber","PopUp","PopUpSomethingWentWrong","getUsers","postChangeUserInformation","PersonaIformation","Component","constructor","props","state","firstName","firstNameInput","firstNameSymbol","lastName","lastNameInput","lastNameSymbol","email","emailInput","emailSymbol","phoneNumber","address","passwordNew","passwordNewInput","passwordNewSymbol","passwordNewRepeat","passwordRepeatInput","passwordRepeatSymbol","popupSmthWentWrongActive","isLoading","ErrorMessage","updateData","bind","updateDataUsers","setError","setpopupSmthWentWrongActive","componentDidMount","interval","setTimeout","pages","loginPersonalAccountReducer","clientEmail","errorMessage","setState","value","valueIsLoading","name","render","setIsPersonalInformationVisible","handleButtonClick","event","target","e","ConnectedPersonaIformation"],"mappings":"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","sourcesContent":["/* eslint-disable react/destructuring-assignment */\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport setErrorNotNull from '../../../common/untils/setErrorNotNull';\nimport InputWitchCkeckingNotNull from '../../../common/input/components/InputWitchCkeckingNotNullComponent';\nimport formatPhoneNumber from '../../../common/untils/formatPhoneNumber';\nimport PopUp from '../../../common/popup/components/PopUpComponent';\nimport PopUpSomethingWentWrong from '../../../common/popup/components/PopUpSomethingWentWrongComponent';\nimport getUsers from '../api/get/getUsers';\nimport postChangeUserInformation from '../api/post/postChangeUserInformation';\n\nclass PersonaIformation extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      firstName: '',\n      firstNameInput: 'firstNameInput',\n      firstNameSymbol: 'firstNameSymbol',\n      lastName: '',\n      lastNameInput: 'lastNameInput',\n      lastNameSymbol: 'lastNameSymbol',\n      email: '',\n      emailInput: 'emailInput',\n      emailSymbol: 'emailSymbol',\n      phoneNumber: '+375(__)___-__-__',\n      address: '',\n      passwordNew: '',\n      passwordNewInput: 'passwordNewInput',\n      passwordNewSymbol: 'errorSymbolPasswordNew',\n      passwordNewRepeat: '',\n      passwordRepeatInput: 'passwordNewRepeatInput',\n      passwordRepeatSymbol: 'errorSymbolPasswordNewRepeat',\n      popupSmthWentWrongActive: true,\n      isLoading: false,\n      ErrorMessage: '',\n    };\n    this.updateData = this.updateData.bind(this);\n    this.updateDataUsers = this.updateDataUsers.bind(this);\n    this.setError = this.setError.bind(this);\n    this.setpopupSmthWentWrongActive = this.setpopupSmthWentWrongActive.bind(this);\n  }\n\n  async componentDidMount() {\n    this.interval = setTimeout(async () => {\n      await getUsers(\n        this.props.pages.loginPersonalAccountReducer.clientEmail,\n        this.updateDataUsers, this.setError,\n      );\n    }, 10);\n  }\n\n  /*   componentDidUpdate() {\n    this.interval = setTimeout(async () => {\n      const result = await getUsers(\n        this.props.pages.loginPersonalAccountReducer.clientEmail,\n        this.updateDataUsers, this.setError,\n      );\n      this.setState({\n        firstName: result.firstName,\n      });\n      console.log(result);\n    }, 10);\n  } */\n\n  setError(errorMessage) {\n    this.setState({\n      ErrorMessage: errorMessage,\n    });\n  }\n\n  setpopupSmthWentWrongActive(value) {\n    this.setState({\n      popupSmthWentWrongActive: value,\n    });\n  }\n\n  updateDataUsers(firstName, lastName, email, phoneNumber, address, valueIsLoading, passwordNew) {\n    this.setState({\n      firstName,\n      lastName,\n      email,\n      phoneNumber,\n      address,\n      passwordNew,\n      passwordNewRepeat: passwordNew,\n      isLoading: valueIsLoading,\n    });\n  }\n\n  updateData(value, name) {\n    if (name === 'firstName') { this.setState({ firstName: value }); }\n    if (name === 'lastName') { this.setState({ lastName: value }); }\n    if (name === 'email') { this.setState({ email: value }); }\n    if (name === 'passwordNew') { this.setState({ passwordNew: value }); }\n    if (name === 'passwordNewRepeat') { this.setState({ passwordNewRepeat: value }); }\n  }\n\n  render() {\n    const {\n      firstName, firstNameInput, firstNameSymbol,\n      lastName, lastNameInput, lastNameSymbol,\n      email, emailInput, emailSymbol,\n      phoneNumber, address,\n      passwordNew, passwordNewInput, passwordNewSymbol,\n      passwordNewRepeat, passwordRepeatInput, passwordRepeatSymbol,\n      popupSmthWentWrongActive, isLoading, ErrorMessage,\n    } = this.state;\n    const { setIsPersonalInformationVisible } = this.props;\n\n    async function handleButtonClick() {\n      await postChangeUserInformation(\n        firstName, lastName, email, passwordNew, phoneNumber, address,\n      );\n    }\n\n    if (!isLoading) {\n      return <div className=\"-isLoading\"> </div>;\n    }\n    if (ErrorMessage) {\n      return (\n        <PopUp\n          active={popupSmthWentWrongActive}\n          setActive={this.setpopupSmthWentWrongActive}\n        >\n          <PopUpSomethingWentWrong\n            text=\"Попробуйте еще раз\"\n            setpopupSmthWentWrongActive={this.setpopupSmthWentWrongActive}\n          />\n        </PopUp>\n      );\n    }\n    return (\n      <div className=\"personalInformation-wrap\">\n        <form className=\"personalInformation\">\n          <div className=\"firstName\">\n            <p className=\"firstNameString -required\">Имя:</p>\n            <InputWitchCkeckingNotNull\n              initialValue={firstName}\n              type=\"text\"\n              name=\"firstName\"\n              classInput={firstNameInput}\n              classSymbol={firstNameSymbol}\n              updateData={this.updateData}\n            />\n          </div>\n          <div className=\"lastName\">\n            <p className=\"lastNameString -required\">Фамилия:</p>\n            <InputWitchCkeckingNotNull\n              initialValue={lastName}\n              type=\"text\"\n              name=\"lastName\"\n              classInput={lastNameInput}\n              classSymbol={lastNameSymbol}\n              updateData={this.updateData}\n            />\n          </div>\n          <div className=\"email\">\n            <p className=\"emailString -required\">Email:</p>\n            <InputWitchCkeckingNotNull\n              initialValue={email}\n              type=\"email\"\n              name=\"email\"\n              classInput={emailInput}\n              classSymbol={emailSymbol}\n              updateData={this.updateData}\n            />\n          </div>\n          <div className=\"phone\">\n            <p className=\"phoneString\">Телефон:</p>\n            <input\n              className=\"phoneInput\"\n              name=\"PHONE\"\n              type=\"tel\"\n              minLength=\"13\"\n              maxLength=\"13\"\n              placeholder=\"+375 (__) ___-__-__\"\n              value={phoneNumber}\n              onFocus={() => this.setState({ phoneNumber: '+375' })}\n              onChange={(event) => {\n                this.setState({\n                  phoneNumber: formatPhoneNumber(event.target.value),\n                });\n              }}\n            />\n          </div>\n          <div className=\"address\">\n            <p className=\"addressString\">Адрес:</p>\n            <input\n              className=\"addressInput\"\n              type=\"text\"\n              name=\"address\"\n              value={address}\n              onChange={(e) => {\n                this.setState({\n                  address: e.target.value,\n                });\n              }}\n            />\n          </div>\n          <div className=\"passwordNew\">\n            <p className=\"passwordNewString -required\">Пароль:</p>\n            <InputWitchCkeckingNotNull\n              initialValue={passwordNew}\n              type=\"password\"\n              name=\"passwordNew\"\n              classInput={passwordNewInput}\n              classSymbol={passwordNewSymbol}\n              updateData={this.updateData}\n            />\n          </div>\n          <div className=\"passwordNewRepeat\">\n            <p className=\"passwordNewRepeatString -required\">Повторите пароль:</p>\n            <InputWitchCkeckingNotNull\n              initialValue={passwordNewRepeat}\n              type=\"password\"\n              name=\"passwordNewRepeat\"\n              classInput={passwordRepeatInput}\n              classSymbol={passwordRepeatSymbol}\n              updateData={this.updateData}\n            />\n          </div>\n          {(firstName && lastName && email && passwordNew && passwordNewRepeat)\n  && (passwordNew === passwordNewRepeat) ? (\n    <button\n      type=\"button\"\n      className=\"changePasswordButton\"\n      onClick={() => {\n        handleButtonClick();\n        setIsPersonalInformationVisible(false);\n      }}\n    >\n      Сохранить\n    </button>\n            ) : (\n              <button\n                type=\"button\"\n                className=\"changePasswordButton\"\n                onClick={() => {\n                  if (!firstName) {\n                    setErrorNotNull(firstNameInput, firstNameSymbol);\n                  } if (!lastName) {\n                    setErrorNotNull(lastNameInput, lastNameSymbol);\n                  } if (!email) {\n                    setErrorNotNull(emailInput, emailSymbol);\n                  } if (!passwordNew) {\n                    setErrorNotNull(passwordNewInput, passwordNewSymbol);\n                  } if (passwordNew !== passwordNewRepeat) {\n                    setErrorNotNull(passwordRepeatInput, passwordRepeatSymbol);\n                  }\n                }}\n              >\n                Сохранить\n              </button>\n            )}\n        </form>\n      </div>\n    );\n  }\n}\n\nconst ConnectedPersonaIformation = connect(\n  (state) => ({\n    pages: state,\n  }),\n)(PersonaIformation);\n\nexport default ConnectedPersonaIformation;\n"]},"metadata":{},"sourceType":"module"}