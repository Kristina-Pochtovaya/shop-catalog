{"ast":null,"code":"import _regeneratorRuntime from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{withRouter}from'react-router-dom';import Header from'../../main/header/components/HeaderComponent';import Footer from'../../main/footer/components/FooterComponent';import AddCategoryImage from'../../editCategory/components/AddCategoryImageComponent';import PopUp from'../../../common/popup/components/PopUpComponent';import PopUpSomethingWentWrong from'../../../common/popup/components/PopUpSomethingWentWrongComponent';import postNewProduct from'../api/post/postNewProduct';import getCategories from'../../editCategory/api/get/getCategories';import checkOnlyNumbers from'../../../common/untils/checkOnlyNumbers';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var AddCategoryPage=/*#__PURE__*/function(_React$Component){_inherits(AddCategoryPage,_React$Component);var _super=_createSuper(AddCategoryPage);function AddCategoryPage(props){var _this;_classCallCheck(this,AddCategoryPage);_this=_super.call(this,props);_this.state={productName:'',image:'',categoryName:'Электротовары и свет',productPrice:'',productInStock:'да',categoriesArray:[],errorMessage:'',isLoading:false,popupSmthWentWrongActive:true,isPriceCorrect:false};_this.updateImage=_this.updateImage.bind(_assertThisInitialized(_this));_this.setError=_this.setError.bind(_assertThisInitialized(_this));_this.updateDataCategories=_this.updateDataCategories.bind(_assertThisInitialized(_this));_this.setpopupSmthWentWrongActive=_this.setpopupSmthWentWrongActive.bind(_assertThisInitialized(_this));return _this;}_createClass(AddCategoryPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.interval=setTimeout(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getCategories(_this2.updateDataCategories,_this2.setError);case 2:case\"end\":return _context.stop();}}},_callee);})),10);}},{key:\"setError\",value:function setError(value){this.setState({errorMessage:value});}},{key:\"setpopupSmthWentWrongActive\",value:function setpopupSmthWentWrongActive(value){this.setState({popupSmthWentWrongActive:value});}},{key:\"updateDataCategories\",value:function updateDataCategories(value,valueIsLoading){this.setState({categoriesArray:value,isLoading:valueIsLoading});}},{key:\"updateImage\",value:function updateImage(value){this.setState({image:value});}},{key:\"render\",value:function render(){var _this3=this;function handleButtonClick(){return _handleButtonClick.apply(this,arguments);}function _handleButtonClick(){_handleButtonClick=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var errorImage,result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:errorImage=document.getElementById('errorNewImage');_context2.next=3;return postNewProduct(productName,image,categoryName,productPrice,productInStock,categoriesArray);case 3:result=_context2.sent;if(result===true){history.push('/main-page');}if(result===false){errorImage.setAttribute('class','errorNewImage');}isProductsUpdated?setIsProductsUpdated(false):setIsProductsUpdated(true);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _handleButtonClick.apply(this,arguments);}function setErrorButtonClick(){var errorPrice=document.getElementById('errorPrice');errorPrice.setAttribute('class','errorPrice');}var _this$state=this.state,productName=_this$state.productName,image=_this$state.image,categoryName=_this$state.categoryName,productPrice=_this$state.productPrice,productInStock=_this$state.productInStock,categoriesArray=_this$state.categoriesArray,errorMessage=_this$state.errorMessage,isLoading=_this$state.isLoading,popupSmthWentWrongActive=_this$state.popupSmthWentWrongActive,isPriceCorrect=_this$state.isPriceCorrect;var _this$props=this.props,history=_this$props.history,isProductsUpdated=_this$props.isProductsUpdated,setIsProductsUpdated=_this$props.setIsProductsUpdated;if(!isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"-isLoading\",children:\" \"});}if(errorMessage){return/*#__PURE__*/_jsx(PopUp,{active:popupSmthWentWrongActive,setActive:this.setpopupSmthWentWrongActive,children:/*#__PURE__*/_jsx(PopUpSomethingWentWrong,{text:\"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0449\\u0435 \\u0440\\u0430\\u0437\",setpopupSmthWentWrongActive:this.setpopupSmthWentWrongActive})});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{linkItem:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"buttonBack\",children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),link:\"/personal\",disabled:false}),/*#__PURE__*/_jsxs(\"div\",{className:\"addProduct-box\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u043E\\u0432\\u0430\\u0440\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"addProduct-container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"productCategoriesString\",children:\"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"select\",{className:\"productsCategories\",value:categoryName,onChange:function onChange(event){return _this3.setState({categoryName:event.target.value});},children:categoriesArray.categories.map(function(category){return/*#__PURE__*/_jsx(\"option\",{value:category.category,children:category.category},category.id);})}),/*#__PURE__*/_jsx(\"p\",{className:\"productNameString\",children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"productNameInput\",value:productName,onChange:function onChange(e){return _this3.setState({productName:e.target.value});}}),/*#__PURE__*/_jsx(\"p\",{className:\"productPriceString\",children:\"\\u0426\\u0435\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"p\",{id:\"errorPrice\",className:\"errorPrice -disabled\",children:\"\\u0426\\u0435\\u043D\\u0430 \\u0434\\u043E\\u043B\\u0436\\u043D\\u0430 \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044C \\u0442\\u043E\\u043B\\u044C\\u043A\\u043E \\u0446\\u0438\\u0444\\u0440\\u044B\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"productPriceInput\",value:productPrice,onChange:function onChange(e){_this3.setState({productPrice:e.target.value});},onBlur:function onBlur(e){_this3.setState({productPrice:\"\".concat(e.target.value,\" \\u0420\\u0423\\u0411.\"),isPriceCorrect:checkOnlyNumbers(productPrice)});}}),/*#__PURE__*/_jsx(\"p\",{className:\"productInStockString\",children:\"\\u0412 \\u043D\\u0430\\u043B\\u0438\\u0447\\u0438\\u0438\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"imageColors\",onChange:function onChange(event){return _this3.setState({productInStock:event.target.value});},children:[/*#__PURE__*/_jsx(\"option\",{value:true,defaultValue:true,children:\"\\u0434\\u0430\"}),/*#__PURE__*/_jsx(\"option\",{value:false,children:\"\\u043D\\u0435\\u0442\"})]}),/*#__PURE__*/_jsx(AddCategoryImage,{updateImage:this.updateImage}),isPriceCorrect?/*#__PURE__*/_jsx(\"button\",{className:\"addNewCategoryButton\",type:\"button\",onClick:function onClick(){handleButtonClick();},children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"}):/*#__PURE__*/_jsx(\"button\",{className:\"addNewCategoryButton\",type:\"button\",onClick:function onClick(){setErrorButtonClick();},children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"})]})]}),/*#__PURE__*/_jsx(Footer,{})]});}}]);return AddCategoryPage;}(React.Component);export default withRouter(AddCategoryPage);","map":{"version":3,"sources":["/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/src/pages/editProducts/components/AddProductPageComponent.jsx"],"names":["React","withRouter","Header","Footer","AddCategoryImage","PopUp","PopUpSomethingWentWrong","postNewProduct","getCategories","checkOnlyNumbers","AddCategoryPage","props","state","productName","image","categoryName","productPrice","productInStock","categoriesArray","errorMessage","isLoading","popupSmthWentWrongActive","isPriceCorrect","updateImage","bind","setError","updateDataCategories","setpopupSmthWentWrongActive","interval","setTimeout","value","setState","valueIsLoading","handleButtonClick","errorImage","document","getElementById","result","history","push","setAttribute","isProductsUpdated","setIsProductsUpdated","setErrorButtonClick","errorPrice","event","target","categories","map","category","id","e","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Header from '../../main/header/components/HeaderComponent';\nimport Footer from '../../main/footer/components/FooterComponent';\nimport AddCategoryImage from '../../editCategory/components/AddCategoryImageComponent';\nimport PopUp from '../../../common/popup/components/PopUpComponent';\nimport PopUpSomethingWentWrong from '../../../common/popup/components/PopUpSomethingWentWrongComponent';\nimport postNewProduct from '../api/post/postNewProduct';\nimport getCategories from '../../editCategory/api/get/getCategories';\nimport checkOnlyNumbers from '../../../common/untils/checkOnlyNumbers';\n\nclass AddCategoryPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      productName: '',\n      image: '',\n      categoryName: 'Электротовары и свет',\n      productPrice: '',\n      productInStock: 'да',\n      categoriesArray: [],\n      errorMessage: '',\n      isLoading: false,\n      popupSmthWentWrongActive: true,\n      isPriceCorrect: false,\n    };\n    this.updateImage = this.updateImage.bind(this);\n    this.setError = this.setError.bind(this);\n    this.updateDataCategories = this.updateDataCategories.bind(this);\n    this.setpopupSmthWentWrongActive = this.setpopupSmthWentWrongActive.bind(this);\n  }\n\n  componentDidMount() {\n    this.interval = setTimeout(async () => {\n      await getCategories(this.updateDataCategories, this.setError);\n    }, 10);\n  }\n\n  setError(value) {\n    this.setState({\n      errorMessage: value,\n    });\n  }\n\n  setpopupSmthWentWrongActive(value) {\n    this.setState({\n      popupSmthWentWrongActive: value,\n    });\n  }\n\n  updateDataCategories(value, valueIsLoading) {\n    this.setState({\n      categoriesArray: value,\n      isLoading: valueIsLoading,\n    });\n  }\n\n  updateImage(value) {\n    this.setState({ image: value });\n  }\n\n  render() {\n    async function handleButtonClick() {\n      const errorImage = document.getElementById('errorNewImage');\n      const result = await postNewProduct(\n        productName, image, categoryName, productPrice, productInStock, categoriesArray,\n      );\n      if (result === true) {\n        history.push('/main-page');\n      } if (result === false) {\n        errorImage.setAttribute('class', 'errorNewImage');\n      }\n\n      isProductsUpdated\n        ? setIsProductsUpdated(false)\n        : setIsProductsUpdated(true);\n    }\n\n    function setErrorButtonClick() {\n      const errorPrice = document.getElementById('errorPrice');\n      errorPrice.setAttribute('class', 'errorPrice');\n    }\n\n    const {\n      productName, image, categoryName, productPrice, productInStock,\n      categoriesArray, errorMessage, isLoading, popupSmthWentWrongActive,\n      isPriceCorrect,\n    } = this.state;\n    const { history, isProductsUpdated, setIsProductsUpdated } = this.props;\n\n    if (!isLoading) {\n      return <div className=\"-isLoading\"> </div>;\n    }\n    if (errorMessage) {\n      return (\n        <PopUp\n          active={popupSmthWentWrongActive}\n          setActive={this.setpopupSmthWentWrongActive}\n        >\n          <PopUpSomethingWentWrong\n            text=\"Попробуйте еще раз\"\n            setpopupSmthWentWrongActive={this.setpopupSmthWentWrongActive}\n          />\n        </PopUp>\n      );\n    }\n\n    return (\n      <>\n        <Header linkItem={<button type=\"button\" className=\"buttonBack\">Назад</button>} link=\"/personal\" disabled={false} />\n        <div className=\"addProduct-box\">\n          <h2 className=\"\">Добавить товар</h2>\n          <div className=\"addProduct-container\">\n\n            <p className=\"productCategoriesString\">Категория</p>\n            <select\n              className=\"productsCategories\"\n              value={categoryName}\n              onChange={(event) => this.setState({ categoryName: event.target.value })}\n            >\n              {categoriesArray.categories.map((category) => (\n                <option\n                  key={category.id}\n                  value={category.category}\n                >\n                  {category.category}\n                </option>\n              ))}\n            </select>\n            <p className=\"productNameString\">Название</p>\n            <input\n              type=\"text\"\n              className=\"productNameInput\"\n              value={productName}\n              onChange={(e) => this.setState({ productName: e.target.value })}\n            />\n            <p className=\"productPriceString\">Цена</p>\n            <p id=\"errorPrice\" className=\"errorPrice -disabled\">Цена должна содержать только цифры</p>\n            <input\n              type=\"text\"\n              className=\"productPriceInput\"\n              value={productPrice}\n              onChange={(e) => {\n                this.setState({\n                  productPrice: e.target.value,\n\n                });\n              }}\n              onBlur={(e) => {\n                this.setState({\n                  productPrice: `${e.target.value} РУБ.`,\n                  isPriceCorrect: checkOnlyNumbers(productPrice),\n                });\n              }}\n            />\n            <p className=\"productInStockString\">В наличии</p>\n            <select\n              className=\"imageColors\"\n              onChange={(event) => this.setState({ productInStock: event.target.value })}\n            >\n              <option value defaultValue>да</option>\n              <option value={false}>нет</option>\n            </select>\n            <AddCategoryImage updateImage={this.updateImage} />\n            { isPriceCorrect\n              ? (\n                <button\n                  className=\"addNewCategoryButton\"\n                  type=\"button\"\n                  onClick={() => {\n                    handleButtonClick();\n                  }}\n                >\n                  Добавить\n                </button>\n              ) : (\n                <button\n                  className=\"addNewCategoryButton\"\n                  type=\"button\"\n                  onClick={() => {\n                    setErrorButtonClick();\n                  }}\n                >\n                  Добавить\n                </button>\n              )}\n\n          </div>\n        </div>\n        <Footer />\n      </>\n    );\n  }\n}\n\nexport default withRouter(AddCategoryPage);\n"]},"metadata":{},"sourceType":"module"}