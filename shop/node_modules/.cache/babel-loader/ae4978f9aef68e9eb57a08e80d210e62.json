{"ast":null,"code":"import _slicedToArray from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{React,useState,useEffect}from'react';import{Provider}from'react-redux';import{BrowserRouter,Route,Redirect}from'react-router-dom';import Header from'./pages/main/header/components/HeaderComponent';import CatalogItems from'./pages/main/catalogItems/components/CatalogItemsComponent';import Footer from'./pages/main/footer/components/FooterComponent';import About from'./pages/about/components/AboutComponent';import aboutUS from'./assets/header/about-us.png';import ConnectedBasket from'./pages/basket/containers/ConnectedBasketComponent';import createStore from'./redux/store';import getCatalogCategories from'./pages/main/catalogItems/api/get/getCatalogCategories';import PopUp from'./common/popup/components/PopUpComponent';import PopupBasket from'./pages/catalog/components/PopupBasketComponent';import getProductsRequest from'./common/api/get/getProductsRequest';import{ConnectedCatalogItem}from'./pages/catalog/components/CatalogItemComponent';import setImg from'./common/untils/setImg';import PopUpSomethingWentWrong from'./common/popup/components/PopUpSomethingWentWrongComponent';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var store=createStore();export function AppShopCatalog(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),categoriesArray=_useState2[0],setCategories=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),productsArray=_useState4[0],setProducts=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoadingCategory=_useState6[0],setLoadingCategory=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isLoadingProducts=_useState8[0],setLoadingProducts=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),errorCategory=_useState10[0],setErrorCategory=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),errorProducts=_useState12[0],setErrorProducts=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),popupBasketActive=_useState14[0],setPopupBasketctive=_useState14[1];var _useState15=useState(true),_useState16=_slicedToArray(_useState15,2),popupSmthWentWrongActive=_useState16[0],setpopupSmthWentWrongActive=_useState16[1];useEffect(function(){getCatalogCategories(setCategories,setLoadingCategory,setErrorCategory);getProductsRequest(setProducts,setLoadingProducts,setErrorProducts);},[]);if(!isLoadingProducts||!isLoadingCategory){return/*#__PURE__*/_jsx(\"div\",{className:\"-isLoading\",children:\" \"});}if(errorProducts||errorCategory){return/*#__PURE__*/_jsx(PopUp,{active:popupSmthWentWrongActive,setActive:setpopupSmthWentWrongActive,children:/*#__PURE__*/_jsx(PopUpSomethingWentWrong,{text:\"\\u041F\\u043E\\u043F\\u0440\\u043E\\u0431\\u0443\\u0439\\u0442\\u0435 \\u0435\\u0449\\u0435 \\u0440\\u0430\\u0437\",setpopupSmthWentWrongActive:setpopupSmthWentWrongActive})});}return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Provider,{store:store,children:[/*#__PURE__*/_jsx(Route,{path:\"/\",children:/*#__PURE__*/_jsx(Redirect,{to:\"/main-page\"})}),/*#__PURE__*/_jsxs(Route,{path:\"/main-page\",children:[/*#__PURE__*/_jsx(Header,{linkItem:/*#__PURE__*/_jsx(\"img\",{src:aboutUS,alt:\"\\u041E \\u043D\\u0430\\u0441\"}),link:\"/about\",disabled:false}),/*#__PURE__*/_jsx(CatalogItems,{}),/*#__PURE__*/_jsx(Footer,{})]}),/*#__PURE__*/_jsx(Route,{path:\"/about\",children:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"/basket\",children:/*#__PURE__*/_jsx(ConnectedBasket,{})}),categoriesArray.categories.map(function(category){return/*#__PURE__*/_jsxs(Route,{path:category.link,children:[/*#__PURE__*/_jsx(Header,{linkItem:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"buttonBack\",children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),link:\"/main-page\",disabled:false}),/*#__PURE__*/_jsx(\"div\",{className:\"container-wrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"items\",children:productsArray.products.map(function(product){return product.categoryId===category.id&&/*#__PURE__*/_jsx(ConnectedCatalogItem,{id:product.id,img:/*#__PURE__*/_jsx(\"img\",{className:\"imgItem\",src:setImg(product.description),alt:product.imgAlt,title:product.imgTitle}),description:product.description,inStock:product.inStock,price:product.price,setPopupBasketctive:setPopupBasketctive,counter:product.counter,category:product.category},product.id);})})}),/*#__PURE__*/_jsx(PopUp,{active:popupBasketActive,setActive:setPopupBasketctive,children:/*#__PURE__*/_jsx(PopupBasket,{closePopup:setPopupBasketctive})}),/*#__PURE__*/_jsx(Footer,{})]},category.id);})]})});}export default AppShopCatalog;","map":{"version":3,"sources":["/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/src/AppShopCatalogComponent.jsx"],"names":["React","useState","useEffect","Provider","BrowserRouter","Route","Redirect","Header","CatalogItems","Footer","About","aboutUS","ConnectedBasket","createStore","getCatalogCategories","PopUp","PopupBasket","getProductsRequest","ConnectedCatalogItem","setImg","PopUpSomethingWentWrong","store","AppShopCatalog","categoriesArray","setCategories","productsArray","setProducts","isLoadingCategory","setLoadingCategory","isLoadingProducts","setLoadingProducts","errorCategory","setErrorCategory","errorProducts","setErrorProducts","popupBasketActive","setPopupBasketctive","popupSmthWentWrongActive","setpopupSmthWentWrongActive","categories","map","category","link","products","product","categoryId","id","description","imgAlt","imgTitle","inStock","price","counter"],"mappings":"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","sourcesContent":["import { React, useState, useEffect } from 'react';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Route, Redirect } from 'react-router-dom';\nimport Header from './pages/main/header/components/HeaderComponent';\nimport CatalogItems from './pages/main/catalogItems/components/CatalogItemsComponent';\nimport Footer from './pages/main/footer/components/FooterComponent';\nimport About from './pages/about/components/AboutComponent';\nimport aboutUS from './assets/header/about-us.png';\nimport ConnectedBasket from './pages/basket/containers/ConnectedBasketComponent';\nimport createStore from './redux/store';\nimport getCatalogCategories from './pages/main/catalogItems/api/get/getCatalogCategories';\nimport PopUp from './common/popup/components/PopUpComponent';\nimport PopupBasket from './pages/catalog/components/PopupBasketComponent';\nimport getProductsRequest from './common/api/get/getProductsRequest';\nimport { ConnectedCatalogItem } from './pages/catalog/components/CatalogItemComponent';\nimport setImg from './common/untils/setImg';\nimport PopUpSomethingWentWrong from './common/popup/components/PopUpSomethingWentWrongComponent';\n\nconst store = createStore();\n\nexport function AppShopCatalog() {\n  const [categoriesArray, setCategories] = useState(null);\n  const [productsArray, setProducts] = useState(null);\n  const [isLoadingCategory, setLoadingCategory] = useState(false);\n  const [isLoadingProducts, setLoadingProducts] = useState(false);\n  const [errorCategory, setErrorCategory] = useState(null);\n  const [errorProducts, setErrorProducts] = useState(false);\n  const [popupBasketActive, setPopupBasketctive] = useState(false);\n  const [popupSmthWentWrongActive, setpopupSmthWentWrongActive] = useState(true);\n\n  useEffect(() => {\n    getCatalogCategories(\n      setCategories, setLoadingCategory, setErrorCategory,\n    );\n    (getProductsRequest(setProducts, setLoadingProducts, setErrorProducts));\n  }, []);\n\n  if (!isLoadingProducts || !isLoadingCategory) {\n    return <div className=\"-isLoading\"> </div>;\n  }\n\n  if (errorProducts || errorCategory) {\n    return (\n      <PopUp\n        active={popupSmthWentWrongActive}\n        setActive={setpopupSmthWentWrongActive}\n      >\n        <PopUpSomethingWentWrong\n          text=\"Попробуйте еще раз\"\n          setpopupSmthWentWrongActive={setpopupSmthWentWrongActive}\n        />\n      </PopUp>\n    );\n  }\n\n  return (\n    <BrowserRouter>\n      <Provider store={store}>\n        <Route path=\"/\">\n          <Redirect to=\"/main-page\" />\n        </Route>\n        <Route path=\"/main-page\">\n          <Header linkItem={<img src={aboutUS} alt=\"О нас\" />} link=\"/about\" disabled={false} />\n          <CatalogItems />\n          <Footer />\n        </Route>\n        <Route path=\"/about\">\n          <About />\n        </Route>\n        <Route path=\"/basket\">\n          <ConnectedBasket />\n        </Route>\n        {categoriesArray.categories.map((category) => (\n          <Route path={category.link} key={category.id}>\n            <Header\n              linkItem={<button type=\"button\" className=\"buttonBack\">Назад</button>}\n              link=\"/main-page\"\n              disabled={false}\n            />\n            <div className=\"container-wrap\">\n              <div className=\"items\">\n                {productsArray.products.map((product) => (product.categoryId === category.id\n                  && (\n                  <ConnectedCatalogItem\n                    key={product.id}\n                    id={product.id}\n                    img={(\n                      <img\n                        className=\"imgItem\"\n                        src={setImg(product.description)}\n                        alt={product.imgAlt}\n                        title={product.imgTitle}\n                      />\n     )}\n                    description={product.description}\n                    inStock={product.inStock}\n                    price={product.price}\n                    setPopupBasketctive={setPopupBasketctive}\n                    counter={product.counter}\n                    category={product.category}\n                  />\n                  )\n                ))}\n              </div>\n            </div>\n            <PopUp active={popupBasketActive} setActive={setPopupBasketctive}>\n              <PopupBasket closePopup={setPopupBasketctive} />\n            </PopUp>\n            <Footer />\n          </Route>\n        ))}\n      </Provider>\n    </BrowserRouter>\n  );\n}\n\nexport default AppShopCatalog;\n"]},"metadata":{},"sourceType":"module"}