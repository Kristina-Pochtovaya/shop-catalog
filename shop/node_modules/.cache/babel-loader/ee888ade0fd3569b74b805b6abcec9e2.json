{"ast":null,"code":"import _slicedToArray from\"/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{React,useState}from'react';import uploadAction from'./api/post/uploadAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ImageForm=function ImageForm(_ref){var handleNewImage=_ref.handleNewImage;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),image=_useState2[0],setImage=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),preview=_useState4[0],setPreview=_useState4[1];var handleImageUpload=function handleImageUpload(e){setImage(e.target.files[0]);setPreview(true);};var clearImage=function clearImage(){setPreview(false);setImage('');};var handleSubmit=function handleSubmit(){uploadAction(image);setPreview(false);setImage(false);handleNewImage();};return/*#__PURE__*/_jsx(\"div\",{children:preview?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:clearImage,children:\"x\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Image Preview\"}),/*#__PURE__*/_jsx(\"img\",{src:URL.createObjectURL(image),alt:\" preview of upload\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleSubmit,children:\"Upload!\"})]}):/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleImageUpload,accept:\"png jpg jpeg\"})});};export default ImageForm;","map":{"version":3,"sources":["/home/ITRANSITION.CORP/k.pochtovaya/Documents/React Projects/shop catalog/shop/shop/src/ImageFormComponent.jsx"],"names":["React","useState","uploadAction","ImageForm","handleNewImage","image","setImage","preview","setPreview","handleImageUpload","e","target","files","clearImage","handleSubmit","URL","createObjectURL"],"mappings":"0MAAA,OAASA,KAAT,CAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,YAAP,KAAyB,yBAAzB,C,6IAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAwB,IAArBC,CAAAA,cAAqB,MAArBA,cAAqB,eACdH,QAAQ,CAAC,EAAD,CADM,wCACjCI,KADiC,eAC1BC,QAD0B,8BAEVL,QAAQ,CAAC,KAAD,CAFE,yCAEjCM,OAFiC,eAExBC,UAFwB,eAIxC,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,CAAD,CAAO,CAC/BJ,QAAQ,CAACI,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAR,CACAJ,UAAU,CAAC,IAAD,CAAV,CACD,CAHD,CAKA,GAAMK,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBL,UAAU,CAAC,KAAD,CAAV,CACAF,QAAQ,CAAC,EAAD,CAAR,CACD,CAHD,CAKA,GAAMQ,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzBZ,YAAY,CAACG,KAAD,CAAZ,CACAG,UAAU,CAAC,KAAD,CAAV,CACAF,QAAQ,CAAC,KAAD,CAAR,CACAF,cAAc,GACf,CALD,CAOA,mBACE,qBACGG,OAAO,cAEJ,wCACE,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEM,UAA/B,eADF,cAEE,qCAFF,cAGE,YACE,GAAG,CAAEE,GAAG,CAACC,eAAJ,CAAoBX,KAApB,CADP,CAEE,GAAG,CAAC,oBAFN,EAHF,cAOE,eAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAES,YAA/B,qBAPF,GAFI,cAaJ,cACE,IAAI,CAAC,MADP,CAEE,QAAQ,CAAEL,iBAFZ,CAGE,MAAM,CAAC,cAHT,EAdN,EADF,CAuBD,CA5CD,CA8CA,cAAeN,CAAAA,SAAf","sourcesContent":["import { React, useState } from 'react';\nimport uploadAction from './api/post/uploadAction';\n\nconst ImageForm = ({ handleNewImage }) => {\n  const [image, setImage] = useState('');\n  const [preview, setPreview] = useState(false);\n\n  const handleImageUpload = (e) => {\n    setImage(e.target.files[0]);\n    setPreview(true);\n  };\n\n  const clearImage = () => {\n    setPreview(false);\n    setImage('');\n  };\n\n  const handleSubmit = () => {\n    uploadAction(image);\n    setPreview(false);\n    setImage(false);\n    handleNewImage();\n  };\n\n  return (\n    <div>\n      {preview\n        ? (\n          <>\n            <button type=\"button\" onClick={clearImage}>x</button>\n            <h5>Image Preview</h5>\n            <img\n              src={URL.createObjectURL(image)}\n              alt=\" preview of upload\"\n            />\n            <button type=\"button\" onClick={handleSubmit}>Upload!</button>\n          </>\n        )\n        : (\n          <input\n            type=\"file\"\n            onChange={handleImageUpload}\n            accept=\"png jpg jpeg\"\n          />\n        )}\n    </div>\n  );\n};\n\nexport default ImageForm;\n"]},"metadata":{},"sourceType":"module"}